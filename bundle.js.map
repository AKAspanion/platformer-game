{"version":3,"sources":["webpack://platformer-game/./app/areas/index.js","webpack://platformer-game/./app/controller/audio.js","webpack://platformer-game/./app/controller/index.js","webpack://platformer-game/./app/controller/input.js","webpack://platformer-game/./app/controller/mouse-input.js","webpack://platformer-game/./app/engine/index.js","webpack://platformer-game/./app/game/animator.js","webpack://platformer-game/./app/game/coins.js","webpack://platformer-game/./app/game/collider.js","webpack://platformer-game/./app/game/index.js","webpack://platformer-game/./app/game/object.js","webpack://platformer-game/./app/game/player.js","webpack://platformer-game/./app/game/portal.js","webpack://platformer-game/./app/game/water.js","webpack://platformer-game/./app/game/world.js","webpack://platformer-game/./app/index.js","webpack://platformer-game/./app/screen/index.js","webpack://platformer-game/./app/screen/tileset.js","webpack://platformer-game/./app/util/index.js","webpack://platformer-game/webpack/bootstrap","webpack://platformer-game/webpack/runtime/define property getters","webpack://platformer-game/webpack/runtime/hasOwnProperty shorthand","webpack://platformer-game/webpack/runtime/make namespace object","webpack://platformer-game/webpack/startup"],"names":["AudioController","this","count","audios","key","ext","volume","audio","Audio","play","error","loaded","filteredAudios","filter","file","length","done","onload","forEach","addEventListener","src","loop","pause","currentTime","value","callback","go","delay","Controller","up","left","right","type","keyCode","down","getInput","Input","active","MouseInput","id","action","actions","holdit","document","getElementById","btn","start","speedup","timeout","clear","clearTimeout","repeat","setTimeout","onpointerdown","onpointerup","onmouseup","GameEngine","timeStep","update","render","started","updated","time","extraTime","animationFrameRequest","engineLoop","t","timeStamp","window","requestAnimationFrame","performance","now","cancelAnimationFrame","Animator","frameSet","frameIndex","frameValue","last","items","objects","tileSize","collectedCoins","frameSets","loadCount","index","image","Image","e","k","push","addImage","top","offsetX","offsetY","includes","Coin","updateAnimation","x","y","super","baseX","baseY","positionX","Math","random","PI","positionY","animator","cos","sin","animate","Collider","object","tileX","tileY","router","direction","collidePlatformTop","collidePlatformBottom","collidePlatformLeft","collidePlatformRight","flag","keys","split","bottomTile","getTop","getOldTop","setTop","velocityY","leftTile","getRight","getOldRight","setRight","velocityX","rightTile","getLeft","getOldLeft","setLeft","topTile","getBottom","getOldBottom","setBottom","jumping","Game","gameOverCallback","world","over","onGameOver","isLoaded","val","Object","width","height","xOld","yOld","Player","color","running","onImgLoad","imageLeft","imageRight","keyLeft","toLowerCase","keyRight","dead","changeFrameSet","gravity","friction","absVelocityX","abs","Portal","destinationX","destinationY","destinationArea","Water","waterObjects","WaterObject","World","rows","columns","coins","totalCoins","player","collider","audioController","data","theme","playedThemeMusic","load","stopThemeMusic","map","areaMap","isPlayerDead","objectsMap","collisonMap","deathAreas","death","portals","p","water","portal","setCenterX","setCenterY","stop","bottom","_normalizeIndex","floor","collide","maxIndex","object1","object2","isAssetsLoaded","playThemeMusic","collideObject","coin","checkCollision","splice","indexOf","preLoadAndFetch","startBtn","startTitle","startScreen","loadingScreen","toggleStartScreen","style","visibility","toggleLoadingScreen","areaId","controller","game","textContent","setupWorld","setup","screen","setupScreen","querySelector","buffer","canvas","resize","documentElement","clientWidth","clientHeight","engine","moveLeft","moveRight","playJumpSound","jump","hold","resume","drawBackground","drawMap","drawMapObjects","drawObject","waterItem","xOffset","drawPlayer","scoreTextOffest","drawText","keyDownUp","leftMouse","rightMouse","upMouse","onclick","reset","Screen","createElement","getContext","context","tileSet","images","drawTile","drawImage","i","row","j","Array","isArray","fillRect","objectImages","element","yOffset","tileBackground","text","fillStyle","font","fillText","rect","ratio","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","imageSmoothingEnabled","TileSet","worldKey","meta","1","objectLen","tileLen","2","3","4","5","totalCount","uid","Date","toString","substring","sprites","rel","tiles","body","getElementsByTagName","append","href","as","item","prepend","url","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag"],"mappings":"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","file":"bundle.js","sourcesContent":["import area1 from \"./area-1.json\";\nimport area2 from \"./area-2.json\";\nimport area3 from \"./area-3.json\";\nimport area4 from \"./area-4.json\";\nimport area5 from \"./area-5.json\";\nimport area6 from \"./area-6.json\";\nimport area7 from \"./area-7.json\";\n\nexport default {\n  [area1.id]: area1,\n  [area2.id]: area2,\n  [area3.id]: area3,\n  [area3.id]: area3,\n  [area4.id]: area4,\n  [area5.id]: area5,\n  [area6.id]: area6,\n  [area7.id]: area7,\n};\n","export default class AudioController {\n  constructor() {\n    this.count = 4;\n    this.audios = {};\n  }\n\n  static play(key, ext = \"wav\", volume = 0.4) {\n    const audio = new Audio(`./assets/audio/${key}.${ext}`);\n    audio.volume = volume;\n    audio.play();\n  }\n\n  play(key, ext = \"wav\") {\n    try {\n      if (!this.audios[key]) {\n        this.audios[key] = new Audio(`./assets/audio/${key}.${ext}`);\n      }\n\n      this.audios[key].volume = 0.4;\n      this.audios[key].play();\n    } catch (error) {}\n\n    return this;\n  }\n\n  load(audios = [], loaded) {\n    const filteredAudios = audios.filter(({ file }) => !this.audios[file]);\n\n    if (!filteredAudios.length) {\n      loaded(true);\n      return;\n    }\n\n    loaded(false);\n\n    let done = 0;\n    const onload = () => {\n      done += 1;\n      if (filteredAudios.length === done) {\n        loaded(true);\n      }\n    };\n\n    audios.forEach(({ file, ext = \"mp3\" }) => {\n      this.audios[file] = new Audio();\n      this.audios[file].addEventListener(\"canplaythrough\", onload, false);\n      this.audios[file].src = `./assets/audio/${file}.${ext}`;\n      this.audios[file].volume = 0.5;\n    });\n  }\n\n  loop(key) {\n    if (this.audios[key]) {\n      this.audios[key].loop = true;\n    }\n  }\n\n  pause(key) {\n    if (this.audios[key]) {\n      this.audios[key].pause();\n    }\n  }\n\n  stop(key) {\n    if (this.audios[key]) {\n      this.pause(key);\n      this.audios[key].currentTime = 0;\n    }\n  }\n\n  volume(key, value) {\n    if (this.audios[key]) {\n      this.audios[key].volume = value / 100;\n    }\n  }\n\n  static animate(callback, go = false, delay = 12) {\n    if (go) {\n      this.count++;\n\n      while (this.count > delay) {\n        this.count -= delay;\n        callback();\n      }\n    } else {\n      this.count = 4;\n    }\n  }\n}\n","import Input from \"./input\";\n\nexport default class Controller {\n  constructor() {\n    this.up = new Input();\n    this.left = new Input();\n    this.right = new Input();\n  }\n\n  keyDownUp(type, keyCode) {\n    let down = type == \"keydown\" ? true : false;\n\n    switch (keyCode) {\n      case 37:\n      case 65:\n        this.left.getInput(down);\n        break;\n      case 38:\n      case 32:\n        this.up.getInput(down);\n        break;\n      case 39:\n      case 68:\n        this.right.getInput(down);\n    }\n  }\n}\n","export default class Input {\n  constructor() {\n    this.down = false;\n    this.active = false;\n  }\n\n  getInput(down) {\n    if (this.down != down) this.active = down;\n    this.down = down;\n  }\n}\n","export default class MouseInput {\n  constructor(id, action) {\n    this.actions = this.holdit(document.getElementById(id), action, 1000, 2);\n  }\n\n  holdit(btn, action, start, speedup) {\n    let timeout;\n\n    const clear = () => {\n      clearTimeout(timeout);\n    };\n\n    const repeat = function () {\n      action(\"keydown\");\n\n      timeout = setTimeout(repeat, start);\n      start = start / speedup;\n    };\n\n    btn.onpointerdown = function () {\n      repeat();\n    };\n\n    btn.onpointerup = function () {\n      action(\"keyup\");\n\n      clear();\n    };\n\n    btn.onmouseup = function () {\n      action(\"keyup\");\n\n      clear();\n    };\n\n    return { clear };\n  }\n}\n","export default class GameEngine {\n  constructor(timeStep, update, render) {\n    this.timeStep = timeStep;\n    this.update = update;\n    this.render = render;\n    this.started = false;\n\n    this.pause = false;\n\n    this.updated = false;\n\n    this.time = null;\n    this.extraTime = 0;\n    this.animationFrameRequest = null;\n    this.engineLoop = (t) => this.loop(t);\n  }\n\n  loop(timeStamp) {\n    if (this.pause) {\n      return;\n    }\n\n    this.animationFrameRequest = window.requestAnimationFrame(this.engineLoop);\n\n    this.extraTime += timeStamp - this.time;\n    this.time = timeStamp;\n\n    if (this.extraTime >= this.timeStep * 3) {\n      this.extraTime = this.timeStep;\n    }\n\n    while (this.extraTime >= this.timeStep) {\n      this.extraTime -= this.timeStep;\n\n      this.update(this.timeStamp);\n\n      this.updated = true;\n    }\n\n    if (this.updated) {\n      this.updated = false;\n      this.render(this.timeStamp);\n    }\n  }\n\n  start() {\n    this.started = true;\n    this.extraTime = this.timeStep;\n\n    this.time = window.performance.now();\n    this.animationFrameRequest = window.requestAnimationFrame(this.engineLoop);\n  }\n\n  stop() {\n    window.cancelAnimationFrame(this.animationFrameRequest);\n  }\n\n  hold() {\n    this.pause = true;\n  }\n\n  resume() {\n    this.pause = false;\n  }\n}\n","export default class Animator {\n  constructor(frameSet, delay = 4) {\n    this.count = 0;\n    this.delay = delay >= 1 ? delay : 1;\n    this.frameSet = frameSet;\n    this.frameIndex = 0;\n    this.frameValue = frameSet[0];\n  }\n\n  animate(last) {\n    this.loop(last);\n  }\n\n  changeFrameSet(frameSet, delay = 4, frameIndex = 0) {\n    if (this.frameSet === frameSet) {\n      return;\n    }\n\n    this.count = 0;\n    this.delay = delay;\n    this.frameSet = frameSet;\n    this.frameIndex = frameIndex;\n    this.frameValue = frameSet[frameIndex];\n  }\n\n  loop(last) {\n    this.count++;\n\n    while (this.count > this.delay) {\n      this.count -= this.delay;\n\n      if (last && this.frameIndex === this.frameSet.length - 1) {\n        this.frameIndex = this.frameSet.length - 1;\n      } else {\n        this.frameIndex =\n          this.frameIndex < this.frameSet.length - 1 ? this.frameIndex + 1 : 0;\n      }\n\n      this.frameValue = this.frameSet[this.frameIndex];\n    }\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\nexport default class items {\n  constructor(objects = [], tileSize, collectedCoins) {\n    this.items = [];\n    this.loaded = false;\n\n    const keys = [{ id: \"\", count: 16 }];\n\n    this.frameSets = {};\n\n    let loadCount = 0;\n    keys.forEach(({ count }) => {\n      for (let index = 1; index <= count; index++) {\n        const image = new Image();\n        image.onload = (e) => {\n          loadCount += 1;\n\n          if (count === loadCount) {\n            this.loaded = true;\n          }\n        };\n        image.src = `./assets/sprites/coin/image ${index}.webp`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(\"coin\", image);\n      }\n    });\n\n    for (let index = 0; index < objects.length; index++) {\n      const { id, left, top, offsetX, offsetY } = objects[index];\n\n      if (!collectedCoins.includes(id)) {\n        this.items.push(\n          new Coin(id, left * tileSize, top * tileSize, offsetX, offsetY, this.frameSets[\"coin\"])\n        );\n      }\n    }\n  }\n\n  update() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].update();\n    }\n  }\n\n  updateAnimation() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].updateAnimation();\n    }\n  }\n}\n\nclass Coin extends Object {\n  constructor(id, x, y, offsetX = 3, offsetY = 3, frameSet) {\n    super(x, y, 8, 10);\n\n    this.id = id;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    this.baseX = x;\n    this.baseY = y;\n    this.positionX = Math.random() * Math.PI * 2;\n    this.positionY = this.positionX * 2;\n\n    this.animator = new Animator(frameSet);\n  }\n\n  update() {\n    this.positionX += 0.1;\n    this.positionY += 0.15;\n\n    this.x = this.baseX + Math.cos(this.positionX) * 1.5;\n    this.y = this.baseY + Math.sin(this.positionY);\n  }\n\n  updateAnimation() {\n    this.animator.animate();\n  }\n}\n","export default class Collider {\n  collide(value, object, tileX, tileY, tileSize) {\n    const router = (direction) => {\n      switch (direction) {\n        case \"t\":\n          return this.collidePlatformTop(object, tileY);\n        case \"b\":\n          return this.collidePlatformBottom(object, tileY + tileSize);\n        case \"l\":\n          return this.collidePlatformLeft(object, tileX);\n        case \"r\":\n          return this.collidePlatformRight(object, tileX + tileSize);\n        default:\n          break;\n      }\n    };\n\n    let flag = false;\n    if (typeof value === \"string\") {\n      const keys = value.split(\"\");\n\n      for (let index = 0; index < keys.length; index++) {\n        flag = router(keys[index]);\n        if (flag) {\n          break;\n        }\n      }\n    }\n\n    return flag;\n  }\n\n  collidePlatformBottom(object, bottomTile) {\n    if (object.getTop() < bottomTile && object.getOldTop() >= bottomTile) {\n      object.setTop(bottomTile);\n      object.velocityY = 0;\n      return true;\n    }\n    return false;\n  }\n\n  collidePlatformLeft(object, leftTile) {\n    if (object.getRight() > leftTile && object.getOldRight() <= leftTile) {\n      object.setRight(leftTile - 0.01);\n      object.velocityX = 0;\n      return true;\n    }\n    return false;\n  }\n\n  collidePlatformRight(object, rightTile) {\n    if (object.getLeft() < rightTile && object.getOldLeft() >= rightTile) {\n      object.setLeft(rightTile);\n      object.velocityX = 0;\n      return true;\n    }\n    return false;\n  }\n\n  collidePlatformTop(object, topTile) {\n    if (object.getBottom() > topTile && object.getOldBottom() <= topTile) {\n      object.setBottom(topTile - 0.01);\n      object.velocityY = 0;\n      object.jumping = false;\n      return true;\n    }\n    return false;\n  }\n}\n","import World from \"./world\";\n\nexport default class Game {\n  constructor(gameOverCallback) {\n    this.world = new World();\n    this.over = false;\n\n    this.onGameOver = () => {\n      this.over = true;\n      gameOverCallback();\n    };\n  }\n\n  isLoaded() {\n    return this.world.isLoaded();\n  }\n\n  update() {\n    this.world.update(this.onGameOver);\n  }\n\n  setGameOver(val) {\n    this.over = val;\n  }\n}\n","export default class Object {\n  constructor(x, y, width, height) {\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.xOld = x;\n    this.y = y;\n    this.yOld = y;\n  }\n\n  getBottom() {\n    return this.y + this.height;\n  }\n\n  getLeft() {\n    return this.x;\n  }\n\n  getRight() {\n    return this.x + this.width;\n  }\n\n  getTop() {\n    return this.y;\n  }\n\n  getOldBottom() {\n    return this.yOld + this.height;\n  }\n\n  getOldLeft() {\n    return this.xOld;\n  }\n\n  getOldRight() {\n    return this.xOld + this.width;\n  }\n\n  getOldTop() {\n    return this.yOld;\n  }\n\n  getCenterX() {\n    return this.x + this.width * 0.5;\n  }\n\n  getCenterY() {\n    return this.y + this.height * 0.5;\n  }\n\n  setBottom(y) {\n    this.y = y - this.height;\n  }\n\n  setLeft(x) {\n    this.x = x;\n  }\n\n  setRight(x) {\n    this.x = x - this.width;\n  }\n\n  setTop(y) {\n    this.y = y;\n  }\n\n  setOldBottom(y) {\n    this.yOld = y - this.height;\n  }\n\n  setOldLeft(x) {\n    this.xOld = x;\n  }\n\n  setOldRight(x) {\n    this.xOld = x - this.width;\n  }\n\n  setOldTop(y) {\n    this.yOld = y;\n  }\n\n  setCenterX(x) {\n    this.x = x - this.width * 0.5;\n  }\n\n  setCenterY(y) {\n    this.y = y - this.height * 0.5;\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\nexport default class Player extends Object {\n  constructor() {\n    super(40, 100, 12, 12);\n    this.color = \"#ff0000\";\n    this.loaded = false;\n\n    this.running = false;\n    this.jumping = true;\n    this.velocityX = 0;\n    this.velocityY = 0;\n    this.direction = 1;\n\n    const keys = [\n      { id: \"Idle\", count: 10 },\n      { id: \"Run\", count: 8 },\n      { id: \"Jump\", count: 8 },\n      { id: \"Dead\", count: 8 },\n    ];\n\n    this.frameSets = {};\n\n    let loadCount = 0;\n    const totalCount = 34;\n    keys.forEach(({ id, count }) => {\n      for (let index = 1; index <= count; index++) {\n        const onImgLoad = (e) => {\n          loadCount += 1;\n\n          if (totalCount === loadCount) {\n            this.loaded = true;\n          }\n        };\n\n        const imageLeft = new Image();\n        imageLeft.onload = onImgLoad;\n        const imageRight = new Image();\n        imageRight.onload = onImgLoad;\n        imageLeft.src = `./assets/sprites/player/left/${id} (${index}).webp`;\n        imageRight.src = `./assets/sprites/player/right/${id} (${index}).webp`;\n\n        const keyLeft = `${id.toLowerCase()}Left`;\n        const keyRight = `${id.toLowerCase()}Right`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(keyLeft, imageLeft);\n        addImage(keyRight, imageRight);\n      }\n    });\n\n    this.animator = new Animator(this.frameSets[\"idleRight\"]);\n  }\n\n  reset() {\n    this.x = 40;\n    this.y = 100;\n    this.xOld = 40;\n    this.yOld = 100;\n    this.jumping = true;\n    this.velocityX = 0;\n    this.velocityY = 0;\n    this.direction = 1;\n  }\n\n  jump() {\n    if (!this.jumping) {\n      this.jumping = true;\n      this.velocityY -= 18;\n    }\n  }\n\n  moveLeft() {\n    this.direction = -1;\n    this.velocityX -= 0.5;\n  }\n  moveRight() {\n    this.direction = 1;\n    this.velocityX += 0.5;\n  }\n\n  updateAnimation({ dead = false }) {\n    if (dead) {\n      if (this.direction < 0) this.animator.changeFrameSet(this.frameSets[\"deadLeft\"], 2);\n      else this.animator.changeFrameSet(this.frameSets[\"deadRight\"], 2);\n\n      this.animator.animate(dead);\n      return;\n    }\n\n    if (this.velocityY < 0) {\n      if (this.direction < 0) this.animator.changeFrameSet(this.frameSets[\"jumpLeft\"], 2);\n      else this.animator.changeFrameSet(this.frameSets[\"jumpRight\"], 2);\n    } else if (this.direction < 0) {\n      if (this.velocityX < -0.1) this.animator.changeFrameSet(this.frameSets[\"runLeft\"]);\n      else this.animator.changeFrameSet(this.frameSets[\"idleLeft\"]);\n    } else if (this.direction > 0) {\n      if (this.velocityX > 0.1) this.animator.changeFrameSet(this.frameSets[\"runRight\"]);\n      else this.animator.changeFrameSet(this.frameSets[\"idleRight\"]);\n    }\n\n    this.animator.animate();\n  }\n\n  update(gravity, friction) {\n    this.xOld = this.x;\n    this.yOld = this.y;\n    this.velocityY += gravity;\n    this.x += this.velocityX;\n    this.y += this.velocityY;\n\n    this.velocityX *= friction;\n    this.velocityY *= friction;\n\n    const absVelocityX = Math.abs(this.velocityX);\n    this.running = absVelocityX === 0.435 ? false : absVelocityX >= 0.2;\n  }\n}\n","import Object from \"./object\";\n\nexport default class Portal extends Object {\n  constructor({\n    x,\n    y,\n    width,\n    height,\n    direction,\n    destinationX,\n    destinationY,\n    destinationArea,\n  }) {\n    super(x, y, width, height);\n\n    this.direction = direction;\n    this.destinationX = destinationX;\n    this.destinationY = destinationY;\n    this.destinationArea = destinationArea;\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\n\nexport default class Water {\n  constructor(waterObjects = [], tileSize) {\n    this.items = [];\n    this.loaded = false;\n\n    const keys = [{ id: \"\", count: 17 }];\n\n    this.frameSets = {};\n\n    let loadCount = 0;\n    keys.forEach(({ count }) => {\n      for (let index = 1; index <= count; index++) {\n        const image = new Image();\n        image.onload = (e) => {\n          loadCount += 1;\n\n          if (count === loadCount) {\n            this.loaded = true;\n          }\n        };\n        image.src = `./assets/sprites/water/image ${index}.webp`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(\"water\", image);\n      }\n    });\n\n    for (let index = 0; index < waterObjects.length; index++) {\n      const { left, top } = waterObjects[index];\n\n      this.items.push(\n        new WaterObject(left * tileSize, top * tileSize, this.frameSets[\"water\"], tileSize)\n      );\n    }\n  }\n\n  update() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].updateAnimation();\n    }\n  }\n}\n\nclass WaterObject extends Object {\n  constructor(x, y, frameSet, tileSize) {\n    super(x, y, tileSize, tileSize);\n\n    this.animator = new Animator(frameSet, 3);\n  }\n\n  updateAnimation() {\n    this.animator.animate();\n  }\n}\n","import Coins from \"./coins\";\nimport Water from \"./water\";\nimport Player from \"./player\";\nimport Object from \"./object\";\nimport Portal from \"./portal\";\nimport Collider from \"./collider\";\nimport AudioController from \"../controller/audio\";\n\nexport default class World {\n  constructor(friction = 0.87, gravity = 2) {\n    this.friction = friction;\n    this.gravity = gravity;\n\n    this.rows = 12;\n    this.columns = 16;\n    this.tileSize = 16;\n\n    this.loaded = true;\n\n    this.coins = [];\n    this.totalCoins = 0;\n    this.collectedCoins = \"\";\n    this.height = this.tileSize * this.rows;\n    this.width = this.tileSize * this.columns;\n\n    this.player = new Player();\n    this.collider = new Collider();\n\n    this.audioController = new AudioController();\n  }\n\n  setup(data) {\n    if (this.theme !== data.theme) {\n      if (data.theme) {\n        this.playedThemeMusic = false;\n        this.audioController.load(\n          [\n            { file: \"coin\", ext: \"wav\" },\n            { file: \"foot\", ext: \"wav\" },\n            { file: \"jump\", ext: \"wav\" },\n            { file: \"fall\", ext: \"mp3\" },\n            { file: data.theme, ext: \"mp3\" },\n          ],\n          (val) => {\n            this.loaded = val;\n          }\n        );\n\n        this.stopThemeMusic();\n        this.theme = data.theme;\n      }\n    }\n\n    this.id = data.id;\n    this.map = data.areaMap;\n    this.isPlayerDead = false;\n    this.objects = data.objectsMap;\n    this.collisonMap = data.collisonMap;\n\n    if (data.rows) {\n      this.rows = data.rows;\n      this.height = this.tileSize * this.rows;\n    }\n    if (data.columns) {\n      this.columns = data.columns;\n      this.width = this.tileSize * this.columns;\n    }\n\n    this.deathAreas = data.death.map(({ x, y, height, width }) => new Object(x, y, width, height));\n\n    this.coins = new Coins(data.coins, this.tileSize, this.collectedCoins);\n\n    this.portals = data.portals.map((p) => new Portal(p));\n\n    this.water = new Water(data.water, this.tileSize);\n\n    if (this.portal) {\n      this.player.setCenterX(this.portal.destinationX);\n      this.player.setCenterY(this.portal.destinationY);\n      this.player.direction = this.portal.direction;\n\n      this.portal = null;\n    }\n  }\n\n  playJumpSound() {\n    AudioController.play(\"jump\", \"wav\");\n  }\n\n  playThemeMusic() {\n    this.audioController.play(this.theme, \"mp3\");\n    this.audioController.volume(this.theme, 4);\n    this.audioController.loop(this.theme);\n  }\n\n  stopThemeMusic() {\n    this.audioController.stop(this.theme);\n  }\n\n  pauseThemeMusic() {\n    this.audioController.pause(this.theme);\n  }\n\n  collideObject(object) {\n    if (object.getLeft() < 0 - this.player.width / 2) {\n      object.setLeft(-this.player.width / 2);\n      object.velocityX = 0;\n    } else if (object.getRight() > this.width + this.player.width / 2) {\n      object.setRight(this.width + this.player.width / 2);\n      object.velocityX = 0;\n    }\n    if (object.getTop() < 0 - this.player.height * 2.5) {\n      object.setTop(0 - this.player.height * 2.5);\n      object.velocityY = 0;\n    } else if (object.getBottom() - 1 > this.height) {\n      object.setBottom(this.height);\n      object.velocityY = 0;\n      object.jumping = false;\n    }\n\n    let bottom, left, right, top;\n\n    const setTop = () => {\n      top = this._normalizeIndex(Math.floor(object.getTop() / this.tileSize), this.rows);\n    };\n\n    const setBottom = () => {\n      bottom = this._normalizeIndex(Math.floor(object.getBottom() / this.tileSize), this.rows);\n    };\n\n    const setLeft = () => {\n      left = Math.floor(object.getLeft() / this.tileSize);\n    };\n\n    const setRight = () => {\n      right = Math.floor(object.getRight() / this.tileSize);\n    };\n\n    setTop();\n    setLeft();\n    this.collider.collide(\n      this.collisonMap[top][left],\n      object,\n      left * this.tileSize,\n      top * this.tileSize,\n      this.tileSize\n    );\n\n    setTop();\n    setRight();\n    this.collider.collide(\n      this.collisonMap[top][right],\n      object,\n      right * this.tileSize,\n      top * this.tileSize,\n      this.tileSize\n    );\n\n    setBottom();\n    setLeft();\n    this.collider.collide(\n      this.collisonMap[bottom][left],\n      object,\n      left * this.tileSize,\n      bottom * this.tileSize,\n      this.tileSize\n    );\n\n    setBottom();\n    setRight();\n    this.collider.collide(\n      this.collisonMap[bottom][right],\n      object,\n      right * this.tileSize,\n      bottom * this.tileSize,\n      this.tileSize\n    );\n  }\n\n  _normalizeIndex(index, maxIndex) {\n    if (index >= maxIndex - 1) {\n      return maxIndex - 1;\n    } else if (index < 0) {\n      return 0;\n    }\n\n    return index;\n  }\n\n  checkCollision(object1, object2, offsetX = 0, offsetY = 0) {\n    if (\n      object1.x < object2.x + object2.width + offsetX &&\n      object1.x + object1.width > object2.x - offsetX &&\n      object1.y < object2.y + object2.height + offsetY &&\n      object1.y + object1.height > object2.y - offsetY\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  isLoaded() {\n    return this.loaded && this.isAssetsLoaded();\n  }\n\n  isAssetsLoaded() {\n    return this.player.loaded && this.coins.loaded && this.water.loaded;\n  }\n\n  update(onGameOver) {\n    // console.log(this.player.running);\n\n    AudioController.animate(() => {\n      AudioController.play(\"foot\", \"wav\", 0.15);\n    }, this.player.running);\n\n    if (!this.playedThemeMusic) {\n      if (this.isLoaded()) {\n        this.playThemeMusic();\n        this.playedThemeMusic = true;\n      }\n    }\n\n    this.player.update(this.gravity, this.friction);\n\n    this.collideObject(this.player);\n\n    for (let index = 0; index < this.coins.items.length; index++) {\n      const coin = this.coins.items[index];\n\n      coin.update();\n      coin.updateAnimation();\n\n      if (this.checkCollision(this.player, coin, 5, 5)) {\n        this.coins.items.splice(this.coins.items.indexOf(coin), 1);\n\n        this.collectedCoins += `${coin.id},`;\n\n        AudioController.play(\"coin\");\n        this.totalCoins += 1;\n      }\n    }\n\n    let dead = false;\n    if (!dead) {\n      for (let index = 0; index < this.deathAreas.length; index++) {\n        if (this.checkCollision(this.player, this.deathAreas[index])) {\n          if (!this.isPlayerDead) {\n            AudioController.play(\"fall\", \"mp3\");\n\n            this.player.velocityX = 0;\n            this.stopThemeMusic();\n            onGameOver();\n          }\n          this.isPlayerDead = true;\n          this.theme = null;\n          this.collectedCoins = \"\";\n          this.totalCoins = 0;\n          dead = true;\n          break;\n        }\n      }\n    }\n\n    if (!this.portal) {\n      for (let index = 0; index < this.portals.length; index++) {\n        if (this.checkCollision(this.player, this.portals[index])) {\n          this.portal = this.portals[index];\n          break;\n        }\n      }\n    }\n\n    this.player.updateAnimation({ dead });\n\n    this.water.update();\n  }\n}\n","import Game from \"./game\";\nimport Screen from \"./screen\";\nimport GameEngine from \"./engine\";\nimport Controller from \"./controller\";\nimport MouseInput from \"./controller/mouse-input\";\n\nimport { preLoadAndFetch } from \"./util\";\n\npreLoadAndFetch();\n\nimport areas from \"./areas\";\n\nconst startBtn = document.getElementById(\"startBtn\");\nconst startTitle = document.getElementById(\"startTitle\");\nconst startScreen = document.getElementById(\"startScreen\");\nconst loadingScreen = document.getElementById(\"loadingScreen\");\n\nconst toggleStartScreen = (value) => {\n  startScreen.style.visibility = !value ? \"hidden\" : \"visible\";\n};\n\nconst toggleLoadingScreen = (value) => {\n  loadingScreen.style.visibility = !value ? \"hidden\" : \"visible\";\n};\n\nwindow.addEventListener(\"load\", function () {\n  \"use strict\";\n\n  let areaId = 1;\n  let loaded = false;\n\n  toggleLoadingScreen(false);\n\n  const controller = new Controller();\n\n  // GAME\n  const game = new Game(() => {\n    startTitle.textContent = \"Game Over\";\n    setTimeout(() => {\n      toggleStartScreen(true);\n    }, 1500);\n  });\n\n  const setupWorld = () => {\n    game.world.setup(areas[areaId]);\n  };\n\n  // SCREEN\n  let screen;\n\n  const setupScreen = () => {\n    screen = new Screen(document.querySelector(\"canvas\"), areas[areaId].world);\n\n    screen.buffer.canvas.height = game.world.height;\n    screen.buffer.canvas.width = game.world.width;\n  };\n\n  setupScreen();\n\n  // GAME ENGINE\n\n  const isLoaded = () => {\n    return game.isLoaded() && screen.isLoaded();\n  };\n\n  const update = () => {\n    loaded = isLoaded();\n\n    if (!loaded) {\n      toggleLoadingScreen(true);\n    } else {\n      toggleLoadingScreen(false);\n    }\n\n    if (!game.over) {\n      if (controller.left.active) {\n        game.world.player.moveLeft();\n      }\n      if (controller.right.active) {\n        game.world.player.moveRight();\n      }\n      if (controller.up.active) {\n        if (!game.world.player.jumping) {\n          game.world.playJumpSound();\n        }\n        game.world.player.jump();\n        controller.up.active = false;\n      }\n    }\n\n    if (game.world.portal) {\n      engine.hold();\n\n      areaId = game.world.portal.destinationArea;\n\n      setupWorld();\n      setupScreen();\n\n      engine.resume();\n    }\n\n    game.update();\n  };\n\n  const render = () => {\n    screen.drawBackground();\n    screen.drawMap(game.world.map);\n    screen.drawMapObjects(game.world.objects);\n    // screen.drawArea(game.world.portals);\n    // screen.drawArea(game.world.deathAreas);\n\n    // draw coins\n    if (game.world.coins) {\n      for (let index = 0; index < game.world.coins.items.length; index++) {\n        const coin = game.world.coins.items[index];\n\n        screen.drawObject(\n          coin.animator.frameValue,\n          coin.x,\n          coin.y,\n          coin.width,\n          coin.height,\n          coin.offsetX,\n          coin.offsetY\n        );\n        // screen.drawText(coin.id, coin.x, coin.y);\n        // screen.drawRect(coin);\n      }\n    }\n\n    // draw water animations\n    if (game.world.water) {\n      for (let index = 0; index < game.world.water.items.length; index++) {\n        const waterItem = game.world.water.items[index];\n\n        screen.drawObject(\n          waterItem.animator.frameValue,\n          waterItem.x,\n          waterItem.y,\n          waterItem.width,\n          waterItem.height,\n          waterItem.offsetX,\n          waterItem.offsetY\n        );\n      }\n    }\n\n    // draw player\n    const xOffset = game.world.player.direction < 0 ? -36 : -12;\n\n    screen.drawPlayer(\n      game.world.player.animator.frameValue,\n      game.world.player.getLeft(),\n      game.world.player.getTop(),\n      60,\n      40,\n      xOffset,\n      -24\n    );\n\n    // draw coin count\n    const scoreTextOffest =\n      game.world.totalCoins >= 10 && game.world.totalCoins <= 99\n        ? 3\n        : game.world.totalCoins > 99\n        ? 3.4\n        : 2.7;\n    const image = new Image();\n    image.src = \"./assets/sprites/coin/image 1.webp\";\n    screen.drawObject(image, (game.world.columns - 1.3) * 16, 8, 10, 10);\n    screen.drawText(\"x\", (game.world.columns - 2) * 16, 15);\n    screen.drawText(game.world.totalCoins, (game.world.columns - scoreTextOffest) * 16, 16.1);\n\n    screen.render();\n  };\n\n  const resize = () => {\n    let width = document.documentElement.clientWidth;\n    let height = document.documentElement.clientHeight;\n\n    if (width < 600) {\n      [width, height] = [height, width];\n    }\n\n    screen.resize(width - 4, height - 4, game.world.height / game.world.width);\n    screen.render();\n  };\n\n  resize();\n\n  var engine = new GameEngine(1000 / 30, update, render);\n\n  // EVENTS HANDLER\n  const keyDownUp = ({ type, keyCode }) => {\n    controller.keyDownUp(type, keyCode);\n  };\n\n  window.addEventListener(\"keydown\", keyDownUp);\n  window.addEventListener(\"keyup\", keyDownUp);\n  window.addEventListener(\"resize\", resize);\n\n  const leftMouse = new MouseInput(\"leftBtn\", (e) => {\n    controller.keyDownUp(e, 37);\n  });\n  const rightMouse = new MouseInput(\"rightBtn\", (e) => {\n    controller.keyDownUp(e, 39);\n  });\n  const upMouse = new MouseInput(\"jumpBtn\", (e) => {\n    controller.keyDownUp(e, 32);\n  });\n\n  const clearMouse = () => {\n    upMouse.actions.clear();\n    leftMouse.actions.clear();\n    rightMouse.actions.clear();\n  };\n\n  startBtn.onclick = () => {\n    clearMouse();\n    startTitle.textContent = \"\";\n    toggleStartScreen(false);\n\n    game.world.player.reset();\n    game.over = false;\n\n    engine.hold();\n\n    areaId = 1;\n\n    setupWorld();\n    setupScreen();\n\n    resize();\n\n    engine.resume();\n\n    if (!engine.started) {\n      engine.start();\n    }\n  };\n\n  // startBtn.click();\n});\n","import TileSet from \"./tileset\";\n\nexport default class Screen {\n  constructor(canvas, world) {\n    this.buffer = document.createElement(\"canvas\").getContext(\"2d\");\n    this.context = canvas.getContext(\"2d\");\n\n    this.tileSet = new TileSet(16, 8, world);\n  }\n\n  drawMap(map) {\n    const { images, tileSize } = this.tileSet;\n\n    const drawTile = (x, y, value) => {\n      const image = images[value];\n\n      let destinationX = x * tileSize;\n      let destinationY = y * tileSize;\n\n      this.buffer.drawImage(image, destinationX, destinationY, tileSize, tileSize);\n    };\n\n    for (let i = 0; i < map.length; i++) {\n      const row = map[i];\n      for (let j = 0; j < row.length; j++) {\n        const value = row[j];\n\n        if (value) {\n          if (Array.isArray(value)) {\n            for (let index = 0; index < value.length; index++) {\n              drawTile(j, i, value[index]);\n            }\n          } else {\n            drawTile(j, i, value);\n          }\n        }\n      }\n    }\n  }\n\n  drawArea(object) {\n    for (let index = 0; index < object.length; index++) {\n      const { x, y, width, height } = object[index];\n      this.buffer.fillRect(x, y, width, height);\n    }\n  }\n\n  drawMapObjects(objects) {\n    const { objectImages, tileSize } = this.tileSet;\n\n    for (let i = 0; i < objects.length; i++) {\n      const row = objects[i];\n      for (let j = 0; j < row.length; j++) {\n        const value = row[j];\n\n        if (value) {\n          value.forEach((element) => {\n            const { id, xOffset = 0, yOffset = 0, width = 16, height = 16 } = element;\n            const image = objectImages[id];\n\n            let destinationX = j * tileSize;\n            let destinationY = i * tileSize;\n\n            this.buffer.drawImage(\n              image,\n              destinationX + xOffset,\n              destinationY + yOffset,\n              width,\n              height\n            );\n          });\n        }\n      }\n    }\n  }\n\n  drawBackground() {\n    this.buffer.drawImage(\n      this.tileSet.tileBackground,\n      0,\n      0,\n      this.buffer.canvas.width,\n      this.buffer.canvas.height\n    );\n  }\n\n  drawText(text, x, y, color = \"black\") {\n    this.buffer.fillStyle = color;\n    this.buffer.font = \"10px Arial\";\n    this.buffer.fillText(text, x, y);\n  }\n\n  drawPlayer(image, destinationX, destinationY, width, height, offsetX, offsetY, rect) {\n    this.drawObject(image, destinationX + offsetX, destinationY + offsetY + 1, width, height);\n  }\n\n  drawObject(image, destinationX, destinationY, width, height, offsetX = 0, offsetY = 0) {\n    this.buffer.drawImage(image, destinationX + offsetX, destinationY + offsetY, width, height);\n  }\n\n  drawRect({ x, y, width, height }) {\n    this.buffer.fillRect(x, y, width, height);\n  }\n\n  isLoaded() {\n    return this.tileSet.loaded;\n  }\n\n  resize(width, height, ratio) {\n    if (height / width > ratio) {\n      this.context.canvas.height = width * ratio;\n      this.context.canvas.width = width;\n    } else {\n      this.context.canvas.height = height;\n      this.context.canvas.width = height / ratio;\n    }\n\n    this.context.webkitImageSmoothingEnabled = false;\n    this.context.mozImageSmoothingEnabled = false;\n    this.context.imageSmoothingEnabled = false;\n  }\n\n  render() {\n    this.context.drawImage(\n      this.buffer.canvas,\n      0,\n      0,\n      this.buffer.canvas.width,\n      this.buffer.canvas.height,\n      0,\n      0,\n      this.context.canvas.width,\n      this.context.canvas.height\n    );\n  }\n}\n","export default class TileSet {\n  constructor(tileSize, columns, world = 1) {\n    const worldKey = `world-${world}`;\n    this.loaded = false;\n    this.columns = columns;\n    this.tileSize = tileSize;\n\n    this.images = [];\n    this.images.push(null);\n\n    this.objectImages = [];\n    this.objectImages.push(null);\n\n    this.tileBackground = new Image();\n\n    const meta = {\n      1: { objectLen: 11, tileLen: 18 },\n      2: { objectLen: 10, tileLen: 18 },\n      3: { objectLen: 15, tileLen: 16 },\n      4: { objectLen: 14, tileLen: 16 },\n      5: { objectLen: 12, tileLen: 25 },\n    };\n\n    let loadCount = 0;\n    let totalCount = meta[world].objectLen + meta[world].tileLen + 1;\n    const onImgLoad = (e) => {\n      loadCount += 1;\n\n      if (totalCount === loadCount) {\n        this.loaded = true;\n      }\n    };\n\n    for (let index = 1; index <= meta[world].objectLen; index++) {\n      const image = new Image();\n      image.onload = onImgLoad;\n      image.src = `./assets/sprites/${worldKey}/objects/${index}.png`;\n\n      this.objectImages.push(image);\n    }\n\n    for (let index = 1; index <= meta[world].tileLen; index++) {\n      const image = new Image();\n      image.onload = onImgLoad;\n      image.src = `./assets/sprites/${worldKey}/tiles/${index}.png`;\n\n      this.images.push(image);\n    }\n\n    this.tileBackground.src = `./assets/sprites/${worldKey}/bg.png`;\n    this.tileBackground.onload = onImgLoad;\n  }\n}\n","export const uid = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substring(2);\n};\n\nexport const preLoadAndFetch = () => {\n  const items = {\n    sprites: [\n      { rel: \"prefetch\", key: \"world-1\", objects: 11, tiles: 18 },\n      { rel: \"prefetch\", key: \"world-2\", objects: 10, tiles: 18 },\n      { rel: \"prefetch\", key: \"world-3\", objects: 15, tiles: 16 },\n      { rel: \"prefetch\", key: \"world-4\", objects: 14, tiles: 16 },\n      { rel: \"prefetch\", key: \"world-5\", objects: 12, tiles: 25 },\n    ],\n    player: [\n      { rel: \"prefetch\", key: \"Dead\", objects: 8 },\n      { rel: \"prefetch\", key: \"Idle\", objects: 10 },\n      { rel: \"prefetch\", key: \"Jump\", objects: 8 },\n      { rel: \"prefetch\", key: \"Run\", objects: 8 },\n    ],\n    water: [{ rel: \"prefetch\", objects: 17 }],\n    coin: [{ rel: \"prefetch\", objects: 16 }],\n  };\n\n  const body = document.getElementsByTagName(\"head\")[0];\n\n  const append = (href, rel, as = \"image\") => {\n    const item = document.createElement(\"link\");\n\n    item.as = as;\n    item.rel = rel;\n    item.href = href;\n    body.prepend(item);\n  };\n\n  items.sprites.forEach(({ rel, key, objects, tiles }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/${key}/objects/${index}.png`, rel);\n    }\n    for (let index = 1; index <= tiles; index++) {\n      append(`./assets/sprites/${key}/tiles/${index}.png`, rel);\n    }\n\n    append(`./assets/sprites/${key}/bg.png`, rel);\n  });\n\n  items.player.forEach(({ rel, key, objects }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/player/left/${key} (${index}).webp`, rel);\n      append(`./assets/sprites/player/right/${key} (${index}).webp`, rel);\n    }\n  });\n\n  items.water.forEach(({ rel, objects }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/water/image ${index}.webp`, rel);\n    }\n  });\n\n  items.coin.forEach(({ rel, objects }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/coin/image ${index}.webp`, rel);\n    }\n  });\n\n  const audioFiles = [\n    { rel: \"preload\", file: \"grasslands\" },\n    { rel: \"preload\", file: \"coin\", ext: \"wav\" },\n    { rel: \"preload\", file: \"jump\", ext: \"wav\" },\n    { rel: \"preload\", file: \"fall\", ext: \"mp3\" },\n    { rel: \"preload\", file: \"iceland\" },\n    { rel: \"preload\", file: \"desert\" },\n    { rel: \"preload\", file: \"dungeon\" },\n  ];\n\n  audioFiles.forEach(({ rel, file, ext = \"mp3\" }) => {\n    if (rel === \"preload\") {\n      const audio = new Audio();\n      audio.url = `./assets/audio/${file}.${ext}`;\n    } else {\n      append(`./assets/audio/${file}.${ext}`, rel, \"audio\");\n    }\n  });\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./app/index.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}