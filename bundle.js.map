{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://platformer-game/./app/areas/index.js","webpack://platformer-game/./app/controller/audio.js","webpack://platformer-game/./app/controller/index.js","webpack://platformer-game/./app/controller/input.js","webpack://platformer-game/./app/controller/mouse-input.js","webpack://platformer-game/./app/engine/index.js","webpack://platformer-game/./app/game/animator.js","webpack://platformer-game/./app/game/coins.js","webpack://platformer-game/./app/game/collider.js","webpack://platformer-game/./app/game/enemies.js","webpack://platformer-game/./app/game/fireballs.js","webpack://platformer-game/./app/game/index.js","webpack://platformer-game/./app/game/object.js","webpack://platformer-game/./app/game/player.js","webpack://platformer-game/./app/game/portal.js","webpack://platformer-game/./app/game/water.js","webpack://platformer-game/./app/game/world.js","webpack://platformer-game/./app/screen/index.js","webpack://platformer-game/./app/screen/tileset.js","webpack://platformer-game/./app/util/index.js","webpack://platformer-game/webpack/bootstrap","webpack://platformer-game/webpack/runtime/define property getters","webpack://platformer-game/webpack/runtime/hasOwnProperty shorthand","webpack://platformer-game/webpack/runtime/make namespace object","webpack://platformer-game/./app/index.js"],"sourcesContent":["import area1 from \"./area-1.json\";\r\nimport area2 from \"./area-2.json\";\r\nimport area3 from \"./area-3.json\";\r\nimport area4 from \"./area-4.json\";\r\nimport area5 from \"./area-5.json\";\r\nimport area6 from \"./area-6.json\";\r\nimport area7 from \"./area-7.json\";\r\nimport area8 from \"./area-8.json\";\r\n\r\nexport default {\r\n  [area1.id]: area1,\r\n  [area2.id]: area2,\r\n  [area3.id]: area3,\r\n  [area3.id]: area3,\r\n  [area4.id]: area4,\r\n  [area5.id]: area5,\r\n  [area6.id]: area6,\r\n  [area7.id]: area7,\r\n  [area8.id]: area8,\r\n};\r\n","import { getData } from \"../util/\";\r\nexport default class AudioController {\r\n  constructor() {\r\n    this.count = 4;\r\n    this.audios = {};\r\n  }\r\n\r\n  static play(key, ext = \"wav\", volume = 0.4) {\r\n    if (getData(\"mute_sounds\")) return;\r\n\r\n    const audio = new Audio(`./assets/audio/${key}.${ext}`);\r\n    audio.volume = volume;\r\n    audio.play();\r\n  }\r\n\r\n  play(key, ext = \"wav\") {\r\n    try {\r\n      if (!this.audios[key]) {\r\n        this.audios[key] = new Audio(`./assets/audio/${key}.${ext}`);\r\n      }\r\n\r\n      this.audios[key].volume = 0.4;\r\n\r\n      if (getData(\"mute_music\")) return;\r\n\r\n      this.audios[key].play();\r\n    } catch (error) {}\r\n\r\n    return this;\r\n  }\r\n\r\n  load(audios = [], loaded) {\r\n    const filteredAudios = audios.filter(({ file }) => !this.audios[file]);\r\n\r\n    if (!filteredAudios.length) {\r\n      loaded(true);\r\n      return;\r\n    }\r\n\r\n    loaded(false);\r\n\r\n    let done = 0;\r\n    const onload = () => {\r\n      done += 1;\r\n      if (filteredAudios.length === done) {\r\n        loaded(true);\r\n      }\r\n    };\r\n\r\n    audios.forEach(({ file, ext = \"mp3\" }) => {\r\n      this.audios[file] = new Audio();\r\n      this.audios[file].addEventListener(\"canplaythrough\", onload, false);\r\n      this.audios[file].src = `./assets/audio/${file}.${ext}`;\r\n      this.audios[file].volume = 0.5;\r\n    });\r\n  }\r\n\r\n  loop(key) {\r\n    if (this.audios[key]) {\r\n      this.audios[key].loop = true;\r\n    }\r\n  }\r\n\r\n  pause(key) {\r\n    if (this.audios[key]) {\r\n      this.audios[key].pause();\r\n    }\r\n  }\r\n\r\n  stop(key) {\r\n    if (this.audios[key]) {\r\n      this.pause(key);\r\n      this.audios[key].currentTime = 0;\r\n    }\r\n  }\r\n\r\n  volume(key, value) {\r\n    if (this.audios[key]) {\r\n      this.audios[key].volume = value / 100;\r\n    }\r\n  }\r\n\r\n  static animate(callback, go = false, delay = 12) {\r\n    if (go) {\r\n      this.count++;\r\n\r\n      while (this.count > delay) {\r\n        this.count -= delay;\r\n        callback();\r\n      }\r\n    } else {\r\n      this.count = 4;\r\n    }\r\n  }\r\n}\r\n","import Input from \"./input\";\r\n\r\nexport default class Controller {\r\n  constructor() {\r\n    this.up = new Input();\r\n    this.left = new Input();\r\n    this.right = new Input();\r\n    this.fire = new Input();\r\n  }\r\n\r\n  keyDownUp(type, keyCode) {\r\n    let down = type == \"keydown\" ? true : false;\r\n\r\n    switch (keyCode) {\r\n      case 37:\r\n      case 65:\r\n        this.left.getInput(down);\r\n        break;\r\n      case 38:\r\n      case 32:\r\n        this.up.getInput(down);\r\n        break;\r\n      case 39:\r\n      case 68:\r\n        this.right.getInput(down);\r\n        break;\r\n      case 13:\r\n      case 16:\r\n        this.fire.getInput(down);\r\n    }\r\n  }\r\n}\r\n","export default class Input {\r\n  constructor() {\r\n    this.down = false;\r\n    this.active = false;\r\n  }\r\n\r\n  getInput(down) {\r\n    if (this.down != down) this.active = down;\r\n    this.down = down;\r\n  }\r\n}\r\n","export default class MouseInput {\r\n  constructor(id, action) {\r\n    this.actions = this.holdit(document.getElementById(id), action, 1000, 2);\r\n  }\r\n\r\n  holdit(btn, action, start, speedup) {\r\n    let timeout;\r\n\r\n    const clear = () => {\r\n      clearTimeout(timeout);\r\n    };\r\n\r\n    const preventDefault = (e) => {\r\n      if (e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n    };\r\n\r\n    const repeat = function () {\r\n      action(\"keydown\");\r\n\r\n      timeout = setTimeout(repeat, start);\r\n      start = start / speedup;\r\n    };\r\n\r\n    try {\r\n      btn.ontouchstart = function (e) {\r\n        preventDefault(e);\r\n\r\n        repeat();\r\n      };\r\n\r\n      btn.ontouchend = function (e) {\r\n        preventDefault(e);\r\n        action(\"keyup\");\r\n\r\n        clear();\r\n      };\r\n    } catch (error) {\r\n      console.error(\"Error in mouse input\", error);\r\n    }\r\n    return { clear };\r\n  }\r\n}\r\n","export default class GameEngine {\r\n  constructor(timeStep, update, render) {\r\n    this.timeStep = timeStep;\r\n    this.update = update;\r\n    this.render = render;\r\n    this.started = false;\r\n\r\n    this.pause = false;\r\n\r\n    this.updated = false;\r\n\r\n    this.time = null;\r\n    this.extraTime = 0;\r\n    this.animationFrameRequest = null;\r\n    this.engineLoop = (t) => this.loop(t);\r\n  }\r\n\r\n  loop(timeStamp) {\r\n    if (this.pause) {\r\n      return;\r\n    }\r\n\r\n    this.animationFrameRequest = window.requestAnimationFrame(this.engineLoop);\r\n\r\n    this.extraTime += timeStamp - this.time;\r\n    this.time = timeStamp;\r\n\r\n    if (this.extraTime >= this.timeStep * 3) {\r\n      this.extraTime = this.timeStep;\r\n    }\r\n\r\n    while (this.extraTime >= this.timeStep) {\r\n      this.extraTime -= this.timeStep;\r\n\r\n      this.update(this.timeStamp);\r\n\r\n      this.updated = true;\r\n    }\r\n\r\n    if (this.updated) {\r\n      this.updated = false;\r\n      this.render(this.timeStamp);\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this.started = true;\r\n    this.extraTime = this.timeStep;\r\n\r\n    this.time = window.performance.now();\r\n    this.animationFrameRequest = window.requestAnimationFrame(this.engineLoop);\r\n  }\r\n\r\n  stop() {\r\n    window.cancelAnimationFrame(this.animationFrameRequest);\r\n  }\r\n\r\n  hold() {\r\n    this.pause = true;\r\n  }\r\n\r\n  resume() {\r\n    this.pause = false;\r\n  }\r\n}\r\n","export default class Animator {\r\n  constructor(frameSet, delay = 4) {\r\n    this.count = 0;\r\n    this.delay = delay >= 1 ? delay : 1;\r\n    this.frameSet = frameSet;\r\n    this.frameIndex = 0;\r\n    this.frameValue = frameSet[0];\r\n  }\r\n\r\n  animate(last) {\r\n    this.loop(last);\r\n  }\r\n\r\n  changeFrameSet(frameSet, delay = 4, frameIndex = 0) {\r\n    if (this.frameSet === frameSet) {\r\n      return;\r\n    }\r\n\r\n    this.count = 0;\r\n    this.delay = delay;\r\n    this.frameSet = frameSet;\r\n    this.frameIndex = frameIndex;\r\n    this.frameValue = frameSet[frameIndex];\r\n  }\r\n\r\n  loop(last) {\r\n    this.count++;\r\n\r\n    while (this.count > this.delay) {\r\n      this.count -= this.delay;\r\n\r\n      if (last && this.frameIndex === this.frameSet.length - 1) {\r\n        this.frameIndex = this.frameSet.length - 1;\r\n      } else {\r\n        this.frameIndex = this.frameIndex < this.frameSet.length - 1 ? this.frameIndex + 1 : 0;\r\n      }\r\n\r\n      this.frameValue = this.frameSet[this.frameIndex];\r\n    }\r\n  }\r\n}\r\n","import Object from \"./object\";\r\nimport Animator from \"./animator\";\r\nexport default class items {\r\n  constructor(objects = [], tileSize, collectedCoins) {\r\n    this.items = [];\r\n    this.loaded = false;\r\n\r\n    const keys = [{ id: \"\", count: 16 }];\r\n\r\n    this.frameSets = {};\r\n\r\n    this.assetCount = 16;\r\n    this.loadCount = 0;\r\n    keys.forEach(({ count }) => {\r\n      for (let index = 1; index <= count; index++) {\r\n        const image = new Image();\r\n        image.onload = (e) => {\r\n          this.loadCount += 1;\r\n\r\n          if (count === this.loadCount) {\r\n            this.loaded = true;\r\n          }\r\n        };\r\n        image.src = `./assets/sprites/coin/image ${index}.webp`;\r\n\r\n        const addImage = (k, image) => {\r\n          if (!this.frameSets[k]) {\r\n            this.frameSets[k] = [];\r\n          }\r\n          this.frameSets[k].push(image);\r\n        };\r\n\r\n        addImage(\"coin\", image);\r\n      }\r\n    });\r\n\r\n    for (let index = 0; index < objects.length; index++) {\r\n      const { id, left, top, offsetX, offsetY } = objects[index];\r\n\r\n      if (!collectedCoins.includes(id)) {\r\n        this.items.push(\r\n          new Coin(id, left * tileSize, top * tileSize, offsetX, offsetY, this.frameSets[\"coin\"]),\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  remove(coin) {\r\n    this.items.splice(this.items.indexOf(coin), 1);\r\n  }\r\n\r\n  update() {\r\n    for (let index = 0; index < this.items.length; index++) {\r\n      this.items[index].update();\r\n    }\r\n  }\r\n\r\n  updateAnimation() {\r\n    for (let index = 0; index < this.items.length; index++) {\r\n      this.items[index].updateAnimation();\r\n    }\r\n  }\r\n}\r\n\r\nclass Coin extends Object {\r\n  constructor(id, x, y, offsetX = 3, offsetY = 3, frameSet) {\r\n    super(x, y, 8, 10);\r\n\r\n    this.id = id;\r\n    this.offsetX = offsetX;\r\n    this.offsetY = offsetY;\r\n\r\n    this.baseX = x;\r\n    this.baseY = y;\r\n    this.positionX = Math.random() * Math.PI * 2;\r\n    this.positionY = this.positionX * 2;\r\n\r\n    this.animator = new Animator(frameSet);\r\n  }\r\n\r\n  update() {\r\n    this.positionX += 0.1;\r\n    this.positionY += 0.15;\r\n\r\n    this.x = this.baseX + Math.cos(this.positionX) * 1.5;\r\n    this.y = this.baseY + Math.sin(this.positionY);\r\n  }\r\n\r\n  updateAnimation() {\r\n    this.animator.animate();\r\n  }\r\n}\r\n","export default class Collider {\r\n  collide(value, object, tileX, tileY, tileSize) {\r\n    const router = (direction) => {\r\n      switch (direction) {\r\n        case \"t\":\r\n          return this.collidePlatformTop(object, tileY);\r\n        case \"b\":\r\n          return this.collidePlatformBottom(object, tileY + tileSize);\r\n        case \"l\":\r\n          return this.collidePlatformLeft(object, tileX);\r\n        case \"r\":\r\n          return this.collidePlatformRight(object, tileX + tileSize);\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    let flag = false;\r\n    if (typeof value === \"string\") {\r\n      const keys = value.split(\"\");\r\n\r\n      for (let index = 0; index < keys.length; index++) {\r\n        flag = router(keys[index]);\r\n        if (flag) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return flag;\r\n  }\r\n\r\n  collidePlatformBottom(object, bottomTile) {\r\n    if (object.getTop() < bottomTile && object.getOldTop() >= bottomTile) {\r\n      object.setTop(bottomTile);\r\n      object.velocityY = 0;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  collidePlatformLeft(object, leftTile) {\r\n    if (object.getRight() > leftTile && object.getOldRight() <= leftTile) {\r\n      object.setRight(leftTile - 0.01);\r\n      object.velocityX = 0;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  collidePlatformRight(object, rightTile) {\r\n    if (object.getLeft() < rightTile && object.getOldLeft() >= rightTile) {\r\n      object.setLeft(rightTile);\r\n      object.velocityX = 0;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  collidePlatformTop(object, topTile) {\r\n    if (object.getBottom() > topTile && object.getOldBottom() <= topTile) {\r\n      object.setBottom(topTile - 0.01);\r\n      object.velocityY = 0;\r\n      object.jumping = false;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import Object from \"./object\";\r\nimport Animator from \"./animator\";\r\n\r\nconst enemyTypes = {\r\n  pig: {\r\n    maxV: 0.8,\r\n    minV: 0.5,\r\n    delay: 2,\r\n    width: 21,\r\n    height: 20,\r\n  },\r\n  slime: {\r\n    maxV: 0.4,\r\n    minV: 0.2,\r\n    delay: 4,\r\n    width: 23,\r\n    height: 20,\r\n  },\r\n  chameleon: {\r\n    maxV: 0.4,\r\n    minV: 0.2,\r\n    delay: 2,\r\n    width: 22,\r\n    height: 20,\r\n  },\r\n};\r\n\r\nexport default class Enemies {\r\n  constructor(enemies = [], tileSize = 16, killedEnemies = \"\") {\r\n    this.items = [];\r\n    this.loaded = false;\r\n\r\n    const keys = [\r\n      { id: \"pig\", count: 16 },\r\n      { id: \"slime\", count: 10 },\r\n      { id: \"chameleon\", count: 8 },\r\n    ];\r\n\r\n    this.frameSets = {};\r\n\r\n    this.loadCount = 0;\r\n    this.assetCount = keys.reduce((total, { count }) => total + count * 2, 0);\r\n\r\n    keys.forEach(({ id, count }) => {\r\n      for (let index = 1; index <= count; index++) {\r\n        const onImgLoad = () => {\r\n          this.loadCount += 1;\r\n\r\n          if (this.assetCount === this.loadCount) {\r\n            this.loaded = true;\r\n          }\r\n        };\r\n        const imageLeft = new Image();\r\n        const imageRight = new Image();\r\n        imageLeft.onload = onImgLoad;\r\n        imageRight.onload = onImgLoad;\r\n        imageLeft.src = `./assets/sprites/enemies/${id}/left/image_part_0${index}.png`;\r\n        imageRight.src = `./assets/sprites/enemies/${id}/right/image_part_0${index}.png`;\r\n\r\n        const addImage = (k, image) => {\r\n          if (!this.frameSets[k]) {\r\n            this.frameSets[k] = [];\r\n          }\r\n          this.frameSets[k].push(image);\r\n        };\r\n\r\n        addImage(`${id}Left`, imageLeft);\r\n        addImage(`${id}Right`, imageRight);\r\n      }\r\n    });\r\n\r\n    for (let index = 0; index < enemies.length; index++) {\r\n      const { id, type, left, top, sway, dir } = enemies[index];\r\n\r\n      if (!killedEnemies.includes(id)) {\r\n        this.items.push(\r\n          new Enemy(\r\n            id,\r\n            type,\r\n            left * tileSize,\r\n            top * tileSize,\r\n            [this.frameSets[`${type}Left`], this.frameSets[`${type}Right`]],\r\n            sway,\r\n            dir,\r\n          ),\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  remove(enemy) {\r\n    this.items.splice(this.items.indexOf(enemy), 1);\r\n  }\r\n\r\n  update() {\r\n    for (let index = 0; index < this.items.length; index++) {\r\n      this.items[index].update();\r\n    }\r\n  }\r\n\r\n  updateAnimation() {\r\n    for (let index = 0; index < this.items.length; index++) {\r\n      this.items[index].updateAnimation();\r\n    }\r\n  }\r\n}\r\n\r\nclass Enemy extends Object {\r\n  constructor(id, type, x, y, frameSets, sway = 24, direction = 1) {\r\n    const { width = 20, height = 20, delay = 2, maxV = 0.8, minV = 0.5 } = enemyTypes[type] || {};\r\n\r\n    super(x, y - 4, width, height);\r\n\r\n    this.id = id;\r\n    this.sway = sway;\r\n    this.frameSets = frameSets;\r\n\r\n    this.baseX = x;\r\n    this.baseY = y;\r\n    this.delay = delay;\r\n    this.direction = direction;\r\n    this.velocity = Math.random() * (maxV - minV) + minV;\r\n\r\n    this.animator = new Animator(frameSets[direction < 0 ? 0 : 1], delay);\r\n  }\r\n\r\n  update() {\r\n    this.x += this.velocity * this.direction;\r\n\r\n    if (this.x > this.baseX + this.sway) {\r\n      this.direction = -1;\r\n      this.animator.changeFrameSet(this.frameSets[0], this.delay);\r\n    } else if (this.x <= this.baseX - this.sway) {\r\n      this.direction = 1;\r\n      this.animator.changeFrameSet(this.frameSets[1], this.delay);\r\n    }\r\n  }\r\n\r\n  updateAnimation() {\r\n    this.animator.animate();\r\n  }\r\n}\r\n","import Object from \"./object\";\r\nimport Animator from \"./animator\";\r\n\r\nexport default class Fireballs {\r\n  constructor() {\r\n    this.items = [];\r\n    this.loaded = false;\r\n\r\n    this.frameSets = {};\r\n\r\n    const keys = [{ id: \"\", count: 5 }];\r\n\r\n    this.assetCount = 10;\r\n    this.loadCount = 0;\r\n    keys.forEach(({ count }) => {\r\n      for (let index = 1; index <= count; index++) {\r\n        const onImgLoad = () => {\r\n          this.loadCount += 1;\r\n\r\n          if (this.assetCount === this.loadCount) {\r\n            this.loaded = true;\r\n          }\r\n        };\r\n        const imageLeft = new Image();\r\n        imageLeft.onload = onImgLoad;\r\n        imageLeft.src = `./assets/sprites/fireball/left/image ${index}.webp`;\r\n        const imageRight = new Image();\r\n        imageRight.onload = onImgLoad;\r\n        imageRight.src = `./assets/sprites/fireball/right/image ${index}.webp`;\r\n\r\n        const addImage = (k, image) => {\r\n          if (!this.frameSets[k]) {\r\n            this.frameSets[k] = [];\r\n          }\r\n          this.frameSets[k].push(image);\r\n        };\r\n\r\n        addImage(\"fireballLeft\", imageLeft);\r\n        addImage(\"fireballRight\", imageRight);\r\n      }\r\n    });\r\n  }\r\n\r\n  update() {\r\n    for (let index = 0; index < this.items.length; index++) {\r\n      this.items[index].update();\r\n    }\r\n  }\r\n\r\n  updateAnimation() {\r\n    for (let index = 0; index < this.items.length; index++) {\r\n      this.items[index].updateAnimation();\r\n    }\r\n  }\r\n\r\n  add(id, x, y, direction) {\r\n    this.items.push(\r\n      new Fireball(\r\n        id,\r\n        x,\r\n        y,\r\n        direction,\r\n        this.frameSets[`fireball${direction < 0 ? \"Left\" : \"Right\"}`],\r\n      ),\r\n    );\r\n  }\r\n\r\n  remove(fireball) {\r\n    this.items.splice(this.items.indexOf(fireball), 1);\r\n  }\r\n\r\n  reset() {\r\n    this.items = [];\r\n  }\r\n}\r\n\r\nclass Fireball extends Object {\r\n  constructor(id, x, y, direction, frameSet) {\r\n    super(x, y, 32, 16);\r\n\r\n    this.id = id;\r\n    this.direction = direction;\r\n\r\n    this.velocity = 5;\r\n\r\n    this.animator = new Animator(frameSet);\r\n  }\r\n\r\n  update() {\r\n    if (this.direction < 0) {\r\n      this.x -= this.velocity;\r\n    } else {\r\n      this.x += this.velocity;\r\n    }\r\n  }\r\n\r\n  updateAnimation() {\r\n    this.animator.animate();\r\n  }\r\n}\r\n","import World from \"./world\";\r\n\r\nexport default class Game {\r\n  constructor(gameOverCallback) {\r\n    this.world = new World();\r\n    this.over = false;\r\n\r\n    this.onGameOver = () => {\r\n      this.over = true;\r\n\r\n      gameOverCallback(this.world.totalEnemies * 100 + this.world.totalCoins * 20);\r\n    };\r\n  }\r\n\r\n  isLoaded() {\r\n    return this.world.isLoaded();\r\n  }\r\n\r\n  update() {\r\n    this.world.update(this.onGameOver);\r\n  }\r\n\r\n  setGameOver(val) {\r\n    this.over = val;\r\n  }\r\n}\r\n","export default class Object {\r\n  constructor(x, y, width, height) {\r\n    this.height = height;\r\n    this.width = width;\r\n    this.x = x;\r\n    this.xOld = x;\r\n    this.y = y;\r\n    this.yOld = y;\r\n  }\r\n\r\n  getBottom() {\r\n    return this.y + this.height;\r\n  }\r\n\r\n  getLeft() {\r\n    return this.x;\r\n  }\r\n\r\n  getRight() {\r\n    return this.x + this.width;\r\n  }\r\n\r\n  getTop() {\r\n    return this.y;\r\n  }\r\n\r\n  getOldBottom() {\r\n    return this.yOld + this.height;\r\n  }\r\n\r\n  getOldLeft() {\r\n    return this.xOld;\r\n  }\r\n\r\n  getOldRight() {\r\n    return this.xOld + this.width;\r\n  }\r\n\r\n  getOldTop() {\r\n    return this.yOld;\r\n  }\r\n\r\n  getCenterX() {\r\n    return this.x + this.width * 0.5;\r\n  }\r\n\r\n  getCenterY() {\r\n    return this.y + this.height * 0.5;\r\n  }\r\n\r\n  setBottom(y) {\r\n    this.y = y - this.height;\r\n  }\r\n\r\n  setLeft(x) {\r\n    this.x = x;\r\n  }\r\n\r\n  setRight(x) {\r\n    this.x = x - this.width;\r\n  }\r\n\r\n  setTop(y) {\r\n    this.y = y;\r\n  }\r\n\r\n  setOldBottom(y) {\r\n    this.yOld = y - this.height;\r\n  }\r\n\r\n  setOldLeft(x) {\r\n    this.xOld = x;\r\n  }\r\n\r\n  setOldRight(x) {\r\n    this.xOld = x - this.width;\r\n  }\r\n\r\n  setOldTop(y) {\r\n    this.yOld = y;\r\n  }\r\n\r\n  setCenterX(x) {\r\n    this.x = x - this.width * 0.5;\r\n  }\r\n\r\n  setCenterY(y) {\r\n    this.y = y - this.height * 0.5;\r\n  }\r\n}\r\n","import Object from \"./object\";\r\nimport Animator from \"./animator\";\r\nexport default class Player extends Object {\r\n  constructor() {\r\n    super(40, 100, 12, 12);\r\n    this.color = \"#ff0000\";\r\n    this.loaded = false;\r\n\r\n    this.running = false;\r\n    this.jumping = true;\r\n    this.firing = true;\r\n    this.velocityX = 0;\r\n    this.velocityY = 0;\r\n    this.direction = 1;\r\n\r\n    const keys = [\r\n      { id: \"Idle\", count: 10 },\r\n      { id: \"Run\", count: 8 },\r\n      { id: \"Jump\", count: 8 },\r\n      { id: \"Dead\", count: 8 },\r\n      { id: \"Fire\", count: 4 },\r\n    ];\r\n\r\n    this.frameSets = {};\r\n\r\n    this.loadCount = 0;\r\n    this.assetCount = 38 * 2;\r\n    keys.forEach(({ id, count }) => {\r\n      for (let index = 1; index <= count; index++) {\r\n        const onImgLoad = (e) => {\r\n          this.loadCount += 1;\r\n\r\n          if (this.assetCount === this.loadCount) {\r\n            this.loaded = true;\r\n          }\r\n        };\r\n\r\n        const imageLeft = new Image();\r\n        imageLeft.onload = onImgLoad;\r\n        const imageRight = new Image();\r\n        imageRight.onload = onImgLoad;\r\n        imageLeft.src = `./assets/sprites/player/left/${id} (${index}).webp`;\r\n        imageRight.src = `./assets/sprites/player/right/${id} (${index}).webp`;\r\n\r\n        const keyLeft = `${id.toLowerCase()}Left`;\r\n        const keyRight = `${id.toLowerCase()}Right`;\r\n\r\n        const addImage = (k, image) => {\r\n          if (!this.frameSets[k]) {\r\n            this.frameSets[k] = [];\r\n          }\r\n          this.frameSets[k].push(image);\r\n        };\r\n\r\n        addImage(keyLeft, imageLeft);\r\n        addImage(keyRight, imageRight);\r\n      }\r\n    });\r\n\r\n    this.animator = new Animator(this.frameSets[\"idleRight\"]);\r\n  }\r\n\r\n  reset() {\r\n    this.x = 40;\r\n    this.y = 100;\r\n    this.xOld = 40;\r\n    this.yOld = 100;\r\n    this.firing = false;\r\n    this.running = false;\r\n    this.jumping = false;\r\n    this.velocityX = 0;\r\n    this.velocityY = 0;\r\n    this.direction = 1;\r\n  }\r\n\r\n  jump() {\r\n    if (!this.jumping) {\r\n      this.jumping = true;\r\n      this.velocityY -= 18;\r\n    }\r\n  }\r\n\r\n  fire() {\r\n    if (!this.firing) {\r\n      this.firing = true;\r\n      setTimeout(() => {\r\n        this.firing = false;\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  moveLeft() {\r\n    this.direction = -1;\r\n    this.velocityX -= 0.5;\r\n  }\r\n  moveRight() {\r\n    this.direction = 1;\r\n    this.velocityX += 0.5;\r\n  }\r\n\r\n  updateAnimation({ dead = false }) {\r\n    if (dead) {\r\n      if (this.direction < 0) this.animator.changeFrameSet(this.frameSets[\"deadLeft\"], 2);\r\n      else this.animator.changeFrameSet(this.frameSets[\"deadRight\"], 2);\r\n\r\n      this.animator.animate(dead);\r\n      return;\r\n    }\r\n\r\n    if (this.velocityY < 0) {\r\n      if (this.direction < 0) {\r\n        this.animator.changeFrameSet(this.frameSets[\"jumpLeft\"], 2);\r\n      } else {\r\n        this.animator.changeFrameSet(this.frameSets[\"jumpRight\"], 2);\r\n      }\r\n    } else if (this.direction < 0) {\r\n      if (this.velocityX < -0.1) {\r\n        this.animator.changeFrameSet(this.frameSets[\"runLeft\"]);\r\n      } else {\r\n        if (this.firing) {\r\n          this.animator.changeFrameSet(this.frameSets[\"fireLeft\"], 2);\r\n        } else {\r\n          this.animator.changeFrameSet(this.frameSets[\"idleLeft\"]);\r\n        }\r\n      }\r\n    } else if (this.direction > 0) {\r\n      if (this.velocityX > 0.1) {\r\n        this.animator.changeFrameSet(this.frameSets[\"runRight\"]);\r\n      } else {\r\n        if (this.firing) {\r\n          this.animator.changeFrameSet(this.frameSets[\"fireRight\"], 2);\r\n        } else {\r\n          this.animator.changeFrameSet(this.frameSets[\"idleRight\"]);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.animator.animate();\r\n  }\r\n\r\n  update(gravity, friction) {\r\n    this.xOld = this.x;\r\n    this.yOld = this.y;\r\n    this.velocityY += gravity;\r\n    this.x += this.velocityX;\r\n    this.y += this.velocityY;\r\n\r\n    this.velocityX *= friction;\r\n    this.velocityY *= friction;\r\n\r\n    const absVelocityX = Math.abs(this.velocityX);\r\n    this.running = absVelocityX === 0.435 ? false : absVelocityX >= 0.2;\r\n  }\r\n}\r\n","import Object from \"./object\";\r\n\r\nexport default class Portal extends Object {\r\n  constructor({ x, y, width, height, direction, destinationX, destinationY, destinationArea }) {\r\n    super(x, y, width, height);\r\n\r\n    this.direction = direction;\r\n    this.destinationX = destinationX;\r\n    this.destinationY = destinationY;\r\n    this.destinationArea = destinationArea;\r\n  }\r\n}\r\n","import Object from \"./object\";\r\nimport Animator from \"./animator\";\r\n\r\nexport default class Water {\r\n  constructor(waterObjects = [], tileSize) {\r\n    this.items = [];\r\n    this.loaded = false;\r\n\r\n    const keys = [{ id: \"\", count: 17 }];\r\n\r\n    this.frameSets = {};\r\n\r\n    this.assetCount = 17;\r\n    this.loadCount = 0;\r\n    keys.forEach(({ count }) => {\r\n      for (let index = 1; index <= count; index++) {\r\n        const image = new Image();\r\n        image.onload = () => {\r\n          this.loadCount += 1;\r\n\r\n          if (count === this.loadCount) {\r\n            this.loaded = true;\r\n          }\r\n        };\r\n        image.src = `./assets/sprites/water/image ${index}.webp`;\r\n\r\n        const addImage = (k, image) => {\r\n          if (!this.frameSets[k]) {\r\n            this.frameSets[k] = [];\r\n          }\r\n          this.frameSets[k].push(image);\r\n        };\r\n\r\n        addImage(\"water\", image);\r\n      }\r\n    });\r\n\r\n    for (let index = 0; index < waterObjects.length; index++) {\r\n      const { left, top } = waterObjects[index];\r\n\r\n      this.items.push(\r\n        new WaterObject(left * tileSize, top * tileSize, this.frameSets[\"water\"], tileSize),\r\n      );\r\n    }\r\n  }\r\n\r\n  update() {\r\n    for (let index = 0; index < this.items.length; index++) {\r\n      this.items[index].updateAnimation();\r\n    }\r\n  }\r\n}\r\n\r\nclass WaterObject extends Object {\r\n  constructor(x, y, frameSet, tileSize) {\r\n    super(x, y, tileSize, tileSize);\r\n\r\n    this.animator = new Animator(frameSet, 3);\r\n  }\r\n\r\n  updateAnimation() {\r\n    this.animator.animate();\r\n  }\r\n}\r\n","import Coins from \"./coins\";\r\nimport Water from \"./water\";\r\nimport Player from \"./player\";\r\nimport Object from \"./object\";\r\nimport Portal from \"./portal\";\r\nimport Enemies from \"./enemies\";\r\nimport Collider from \"./collider\";\r\nimport Fireballs from \"./fireballs\";\r\nimport AudioController from \"../controller/audio\";\r\n\r\nexport default class World {\r\n  constructor(friction = 0.87, gravity = 2) {\r\n    this.friction = friction;\r\n    this.gravity = gravity;\r\n\r\n    this.rows = 12;\r\n    this.columns = 16;\r\n    this.tileSize = 16;\r\n\r\n    this.loaded = true;\r\n\r\n    this.totalCoins = 0;\r\n    this.totalEnemies = 0;\r\n    this.killedEnemies = \"\";\r\n    this.collectedCoins = \"\";\r\n    this.height = this.tileSize * this.rows;\r\n    this.width = this.tileSize * this.columns;\r\n\r\n    this.player = new Player();\r\n    this.collider = new Collider();\r\n    this.fireballs = new Fireballs();\r\n\r\n    this.audioController = new AudioController();\r\n  }\r\n\r\n  setup(data) {\r\n    if (this.theme !== data.theme) {\r\n      if (data.theme) {\r\n        this.playedThemeMusic = false;\r\n        this.audioController.load(\r\n          [\r\n            { file: \"fire\", ext: \"wav\" },\r\n            { file: \"coin\", ext: \"wav\" },\r\n            { file: \"foot\", ext: \"wav\" },\r\n            { file: \"jump\", ext: \"wav\" },\r\n            { file: \"hurt\", ext: \"wav\" },\r\n            { file: \"fall\", ext: \"mp3\" },\r\n            { file: data.theme, ext: \"mp3\" },\r\n          ],\r\n          (val) => {\r\n            this.loaded = val;\r\n          },\r\n        );\r\n\r\n        this.stopThemeMusic();\r\n        this.theme = data.theme;\r\n      }\r\n    }\r\n\r\n    this.id = data.id;\r\n    this.map = data.areaMap;\r\n    this.isPlayerDead = false;\r\n    this.objects = data.objectsMap;\r\n    this.collisonMap = data.collisonMap;\r\n\r\n    if (data.rows) {\r\n      this.rows = data.rows;\r\n      this.height = this.tileSize * this.rows;\r\n    }\r\n    if (data.columns) {\r\n      this.columns = data.columns;\r\n      this.width = this.tileSize * this.columns;\r\n    }\r\n\r\n    this.deathAreas = data.death.map(({ x, y, height, width }) => new Object(x, y, width, height));\r\n\r\n    this.enemies = new Enemies(data.enemies, this.tileSize, this.killedEnemies);\r\n\r\n    this.coins = new Coins(data.coins, this.tileSize, this.collectedCoins);\r\n\r\n    this.portals = data.portals.map((p) => new Portal(p));\r\n\r\n    this.water = new Water(data.water, this.tileSize);\r\n\r\n    this.fireballs.reset();\r\n\r\n    if (this.portal) {\r\n      this.player.setCenterX(this.portal.destinationX);\r\n      this.player.setCenterY(this.portal.destinationY);\r\n      this.player.direction = this.portal.direction;\r\n\r\n      this.portal = null;\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.totalCoins = 0;\r\n    this.totalEnemies = 0;\r\n    this.killedEnemies = \"\";\r\n    this.collectedCoins = \"\";\r\n\r\n    this.player.reset();\r\n  }\r\n\r\n  playJumpSound() {\r\n    AudioController.play(\"jump\", \"wav\");\r\n  }\r\n\r\n  playFireSound() {\r\n    AudioController.play(\"fire\", \"wav\");\r\n  }\r\n\r\n  playThemeMusic() {\r\n    if (!this.theme) return;\r\n\r\n    this.audioController.play(this.theme, \"mp3\");\r\n    this.audioController.volume(this.theme, 8);\r\n    this.audioController.loop(this.theme);\r\n  }\r\n\r\n  stopThemeMusic() {\r\n    if (!this.theme) return;\r\n\r\n    this.audioController.stop(this.theme);\r\n  }\r\n\r\n  pauseThemeMusic() {\r\n    if (!this.theme) return;\r\n\r\n    this.audioController.pause(this.theme);\r\n  }\r\n\r\n  collideObject(object) {\r\n    if (object.getLeft() < 0 - this.player.width / 2) {\r\n      object.setLeft(-this.player.width / 2);\r\n      object.velocityX = 0;\r\n    } else if (object.getRight() > this.width + this.player.width / 2) {\r\n      object.setRight(this.width + this.player.width / 2);\r\n      object.velocityX = 0;\r\n    }\r\n    if (object.getTop() < 0 - this.player.height * 2.5) {\r\n      object.setTop(0 - this.player.height * 2.5);\r\n      object.velocityY = 0;\r\n    } else if (object.getBottom() - 1 > this.height) {\r\n      object.setBottom(this.height);\r\n      object.velocityY = 0;\r\n      object.jumping = false;\r\n    }\r\n\r\n    let bottom, left, right, top;\r\n\r\n    const setTop = () => {\r\n      top = this._normalizeIndex(Math.floor(object.getTop() / this.tileSize), this.rows);\r\n    };\r\n\r\n    const setBottom = () => {\r\n      bottom = this._normalizeIndex(Math.floor(object.getBottom() / this.tileSize), this.rows);\r\n    };\r\n\r\n    const setLeft = () => {\r\n      left = Math.floor(object.getLeft() / this.tileSize);\r\n    };\r\n\r\n    const setRight = () => {\r\n      right = Math.floor(object.getRight() / this.tileSize);\r\n    };\r\n\r\n    setTop();\r\n    setLeft();\r\n    this.collider.collide(\r\n      this.collisonMap[top][left],\r\n      object,\r\n      left * this.tileSize,\r\n      top * this.tileSize,\r\n      this.tileSize,\r\n    );\r\n\r\n    setTop();\r\n    setRight();\r\n    this.collider.collide(\r\n      this.collisonMap[top][right],\r\n      object,\r\n      right * this.tileSize,\r\n      top * this.tileSize,\r\n      this.tileSize,\r\n    );\r\n\r\n    setBottom();\r\n    setLeft();\r\n    this.collider.collide(\r\n      this.collisonMap[bottom][left],\r\n      object,\r\n      left * this.tileSize,\r\n      bottom * this.tileSize,\r\n      this.tileSize,\r\n    );\r\n\r\n    setBottom();\r\n    setRight();\r\n    this.collider.collide(\r\n      this.collisonMap[bottom][right],\r\n      object,\r\n      right * this.tileSize,\r\n      bottom * this.tileSize,\r\n      this.tileSize,\r\n    );\r\n  }\r\n\r\n  _normalizeIndex(index, maxIndex) {\r\n    if (index >= maxIndex - 1) {\r\n      return maxIndex - 1;\r\n    } else if (index < 0) {\r\n      return 0;\r\n    }\r\n\r\n    return index;\r\n  }\r\n\r\n  checkCollision(object1, object2, offsetX = 0, offsetY = 0) {\r\n    if (\r\n      object1.x < object2.x + object2.width + offsetX &&\r\n      object1.x + object1.width > object2.x - offsetX &&\r\n      object1.y < object2.y + object2.height + offsetY &&\r\n      object1.y + object1.height > object2.y - offsetY\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  get assetCount() {\r\n    return (\r\n      this.coins.assetCount +\r\n      this.water.assetCount +\r\n      this.player.assetCount +\r\n      this.enemies.assetCount +\r\n      this.fireballs.assetCount\r\n    );\r\n  }\r\n\r\n  get loadCount() {\r\n    return (\r\n      this.coins.loadCount +\r\n      this.water.loadCount +\r\n      this.player.loadCount +\r\n      this.enemies.loadCount +\r\n      this.fireballs.loadCount\r\n    );\r\n  }\r\n\r\n  isLoaded() {\r\n    return this.loaded && this.isAssetsLoaded();\r\n  }\r\n\r\n  isAssetsLoaded() {\r\n    return (\r\n      this.coins.loaded &&\r\n      this.water.loaded &&\r\n      this.player.loaded &&\r\n      this.enemies.loaded &&\r\n      this.fireballs.loaded\r\n    );\r\n  }\r\n\r\n  onPlayerDead(onGameOver, audio = \"fall\") {\r\n    if (!this.isPlayerDead) {\r\n      AudioController.play(audio, \"mp3\");\r\n\r\n      this.player.velocityX = 0;\r\n      this.stopThemeMusic();\r\n      onGameOver();\r\n    }\r\n    this.isPlayerDead = true;\r\n    this.collectedCoins = \"\";\r\n    this.killedEnemies = \"\";\r\n    this.theme = null;\r\n  }\r\n\r\n  update(onGameOver) {\r\n    AudioController.animate(() => {\r\n      AudioController.play(\"foot\", \"wav\", 0.15);\r\n    }, this.player.running);\r\n\r\n    if (!this.playedThemeMusic) {\r\n      if (this.isLoaded()) {\r\n        this.playThemeMusic();\r\n        this.playedThemeMusic = true;\r\n      }\r\n    }\r\n\r\n    this.player.update(this.gravity, this.friction);\r\n\r\n    this.collideObject(this.player);\r\n\r\n    // coins\r\n    for (let index = 0; index < this.coins.items.length; index++) {\r\n      const coin = this.coins.items[index];\r\n\r\n      coin.update();\r\n      coin.updateAnimation();\r\n\r\n      if (this.checkCollision(this.player, coin, 5, 5)) {\r\n        this.coins.remove(coin);\r\n\r\n        this.collectedCoins += `${coin.id},`;\r\n\r\n        AudioController.play(\"coin\");\r\n        this.totalCoins += 1;\r\n      }\r\n    }\r\n\r\n    // fireballs\r\n    for (let index = 0; index < this.fireballs.items.length; index++) {\r\n      const fireball = this.fireballs.items[index];\r\n\r\n      fireball.update();\r\n      fireball.updateAnimation(this.player);\r\n\r\n      for (let j = 0; j < this.enemies.items.length; j++) {\r\n        const enemy = this.enemies.items[j];\r\n\r\n        if (this.checkCollision(enemy, fireball)) {\r\n          this.enemies.remove(enemy);\r\n\r\n          this.killedEnemies += `${enemy.id},`;\r\n          this.totalEnemies += 1;\r\n\r\n          AudioController.play(\"hurt\");\r\n        }\r\n      }\r\n\r\n      if (fireball.x >= this.width + 50) {\r\n        this.fireballs.remove(fireball);\r\n      }\r\n    }\r\n\r\n    if (!this.isPlayerDead) {\r\n      for (let index = 0; index < this.deathAreas.length; index++) {\r\n        if (this.checkCollision(this.player, this.deathAreas[index])) {\r\n          this.onPlayerDead(onGameOver);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // enemies\r\n    if (!this.isPlayerDead) {\r\n      for (let index = 0; index < this.enemies.items.length; index++) {\r\n        const enemy = this.enemies.items[index];\r\n\r\n        if (this.checkCollision(this.player, enemy)) {\r\n          this.onPlayerDead(onGameOver);\r\n          break;\r\n        }\r\n\r\n        enemy.update();\r\n        enemy.updateAnimation();\r\n      }\r\n    }\r\n\r\n    if (!this.portal) {\r\n      for (let index = 0; index < this.portals.length; index++) {\r\n        if (this.checkCollision(this.player, this.portals[index])) {\r\n          this.portal = this.portals[index];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.player.updateAnimation({ dead: this.isPlayerDead });\r\n\r\n    this.water.update();\r\n  }\r\n}\r\n","import TileSet from \"./tileset\";\r\n\r\nexport default class Screen {\r\n  constructor(canvas, world) {\r\n    this.buffer = canvas.getContext(\"2d\");\r\n    this.canvas = canvas;\r\n\r\n    this.tileSet = new TileSet(16, 8, world);\r\n  }\r\n\r\n  drawMap(map) {\r\n    const { images, tileSize } = this.tileSet;\r\n\r\n    const drawTile = (x, y, value) => {\r\n      const image = images[value];\r\n\r\n      let destinationX = x * tileSize;\r\n      let destinationY = y * tileSize;\r\n\r\n      this.buffer.drawImage(image, destinationX, destinationY, tileSize, tileSize);\r\n    };\r\n\r\n    for (let i = 0; i < map.length; i++) {\r\n      const row = map[i];\r\n      for (let j = 0; j < row.length; j++) {\r\n        const value = row[j];\r\n\r\n        if (value) {\r\n          if (Array.isArray(value)) {\r\n            for (let index = 0; index < value.length; index++) {\r\n              drawTile(j, i, value[index]);\r\n            }\r\n          } else {\r\n            drawTile(j, i, value);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  drawArea(object) {\r\n    for (let index = 0; index < object.length; index++) {\r\n      const { x, y, width, height } = object[index];\r\n      this.buffer.fillRect(x, y, width, height);\r\n    }\r\n  }\r\n\r\n  drawMapObjects(objects) {\r\n    const { objectImages, tileSize } = this.tileSet;\r\n\r\n    for (let i = 0; i < objects.length; i++) {\r\n      const row = objects[i];\r\n      for (let j = 0; j < row.length; j++) {\r\n        const value = row[j];\r\n\r\n        if (value) {\r\n          value.forEach((element) => {\r\n            const { id, xOffset = 0, yOffset = 0, width = 16, height = 16 } = element;\r\n            const image = objectImages[id];\r\n\r\n            let destinationX = j * tileSize;\r\n            let destinationY = i * tileSize;\r\n\r\n            this.buffer.drawImage(\r\n              image,\r\n              destinationX + xOffset,\r\n              destinationY + yOffset,\r\n              width,\r\n              height,\r\n            );\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  drawBackground() {\r\n    this.buffer.drawImage(\r\n      this.tileSet.tileBackground,\r\n      0,\r\n      0,\r\n      this.buffer.canvas.width,\r\n      this.buffer.canvas.height,\r\n    );\r\n  }\r\n\r\n  drawText(text, x, y, color = \"black\") {\r\n    this.buffer.fillStyle = color;\r\n    this.buffer.font = \"10px Arial\";\r\n    this.buffer.fillText(text, x, y);\r\n  }\r\n\r\n  drawPlayer(image, destinationX, destinationY, width, height, offsetX, offsetY, rect) {\r\n    this.drawObject(image, destinationX + offsetX, destinationY + offsetY + 1, width, height);\r\n  }\r\n\r\n  drawDino(image, destinationX, destinationY, width, height, offsetX, offsetY, rect) {\r\n    this.drawObject(image, destinationX + offsetX, destinationY + offsetY + 1, width, height);\r\n  }\r\n\r\n  drawObject(image, destinationX, destinationY, width, height, offsetX = 0, offsetY = 0) {\r\n    this.buffer.drawImage(image, destinationX + offsetX, destinationY + offsetY, width, height);\r\n  }\r\n\r\n  drawRect({ x, y, width, height }) {\r\n    this.buffer.fillRect(x, y, width, height);\r\n  }\r\n\r\n  get assetCount() {\r\n    return this.tileSet.assetCount;\r\n  }\r\n\r\n  get loadCount() {\r\n    return this.tileSet.loadCount;\r\n  }\r\n\r\n  isLoaded() {\r\n    return this.tileSet.loaded;\r\n  }\r\n\r\n  getContainSize(parentWidth, parentHeight, childWidth, childHeight) {\r\n    const contains = true;\r\n    const doRatio = childWidth / childHeight;\r\n    const cRatio = parentWidth / parentHeight;\r\n    let width = parentWidth;\r\n    let height = parentHeight;\r\n\r\n    if (contains ? doRatio > cRatio : doRatio < cRatio) {\r\n      height = width / doRatio;\r\n    } else {\r\n      width = height * doRatio;\r\n    }\r\n\r\n    return [width, height];\r\n  }\r\n\r\n  resize(ww, wh, gW, gH) {\r\n    const [width] = this.getContainSize(ww, wh, gW, gH);\r\n\r\n    const scale = window.devicePixelRatio;\r\n\r\n    document.documentElement.style.setProperty(\"--canvas-height\", gH + \"px\");\r\n    document.documentElement.style.setProperty(\"--canvas-width\", gW + \"px\");\r\n\r\n    this.canvas.style.height = `var(--canvas-height, ${gH}px)`;\r\n    this.canvas.style.width = `var(--canvas-width, ${gW}px)`;\r\n    this.canvas.height = Math.floor(gH * scale * scale);\r\n    this.canvas.width = Math.floor(gW * scale * scale);\r\n    this.buffer.scale(scale, scale);\r\n\r\n    const cssScale = width / gW;\r\n\r\n    document.documentElement.style.setProperty(\"--canvas-scale\", cssScale);\r\n    this.canvas.style.transform = `scale(var(--canvas-scale, ${cssScale}))`;\r\n\r\n    this.buffer.webkitImageSmoothingEnabled = false;\r\n    this.buffer.mozImageSmoothingEnabled = false;\r\n    this.buffer.imageSmoothingEnabled = false;\r\n  }\r\n\r\n  render() {\r\n    this.buffer.drawImage(\r\n      this.buffer.canvas,\r\n      0,\r\n      0,\r\n      this.buffer.canvas.width,\r\n      this.buffer.canvas.height,\r\n      0,\r\n      0,\r\n      this.buffer.canvas.width,\r\n      this.buffer.canvas.height,\r\n    );\r\n  }\r\n}\r\n","export default class TileSet {\r\n  constructor(tileSize, columns, world = 1) {\r\n    const worldKey = `world-${world}`;\r\n    this.loaded = false;\r\n    this.columns = columns;\r\n    this.tileSize = tileSize;\r\n\r\n    this.images = [];\r\n    this.images.push(null);\r\n\r\n    this.objectImages = [];\r\n    this.objectImages.push(null);\r\n\r\n    this.tileBackground = new Image();\r\n\r\n    const meta = {\r\n      1: { objectLen: 11, tileLen: 18 },\r\n      2: { objectLen: 10, tileLen: 18 },\r\n      3: { objectLen: 15, tileLen: 16 },\r\n      4: { objectLen: 14, tileLen: 16 },\r\n      5: { objectLen: 12, tileLen: 25 },\r\n    };\r\n\r\n    this.loadCount = 0;\r\n    this.assetCount = meta[world].objectLen + meta[world].tileLen + 1;\r\n    const onImgLoad = (e) => {\r\n      this.loadCount += 1;\r\n\r\n      if (this.assetCount === this.loadCount) {\r\n        this.loaded = true;\r\n      }\r\n    };\r\n\r\n    for (let index = 1; index <= meta[world].objectLen; index++) {\r\n      const image = new Image();\r\n      image.onload = onImgLoad;\r\n      image.src = `./assets/sprites/${worldKey}/objects/${index}.png`;\r\n\r\n      this.objectImages.push(image);\r\n    }\r\n\r\n    for (let index = 1; index <= meta[world].tileLen; index++) {\r\n      const image = new Image();\r\n      image.onload = onImgLoad;\r\n      image.src = `./assets/sprites/${worldKey}/tiles/${index}.png`;\r\n\r\n      this.images.push(image);\r\n    }\r\n\r\n    this.tileBackground.src = `./assets/sprites/${worldKey}/bg.png`;\r\n    this.tileBackground.onload = onImgLoad;\r\n  }\r\n}\r\n","export const uid = () => {\r\n  return Date.now().toString(36) + Math.random().toString(36).substring(2);\r\n};\r\n\r\nexport const setData = (key, value) => {\r\n  return localStorage.setItem(key, JSON.stringify(value));\r\n};\r\n\r\nexport const getData = (key) => {\r\n  return JSON.parse(localStorage.getItem(key));\r\n};\r\n\r\nexport const preLoadAndFetch = () => {\r\n  const items = {\r\n    sprites: [\r\n      { rel: \"prefetch\", key: \"world-1\", objects: 11, tiles: 18 },\r\n      { rel: \"prefetch\", key: \"world-2\", objects: 10, tiles: 18 },\r\n      { rel: \"prefetch\", key: \"world-3\", objects: 15, tiles: 16 },\r\n      { rel: \"prefetch\", key: \"world-4\", objects: 14, tiles: 16 },\r\n      { rel: \"prefetch\", key: \"world-5\", objects: 12, tiles: 25 },\r\n    ],\r\n    player: [\r\n      { rel: \"prefetch\", key: \"Dead\", objects: 8 },\r\n      { rel: \"prefetch\", key: \"Idle\", objects: 10 },\r\n      { rel: \"prefetch\", key: \"Jump\", objects: 8 },\r\n      { rel: \"prefetch\", key: \"Run\", objects: 8 },\r\n    ],\r\n    water: [{ rel: \"prefetch\", objects: 17 }],\r\n    coin: [{ rel: \"prefetch\", objects: 16 }],\r\n  };\r\n\r\n  const body = document.getElementsByTagName(\"head\")[0];\r\n\r\n  const append = (href, rel, as = \"image\") => {\r\n    const item = document.createElement(\"link\");\r\n\r\n    item.as = as;\r\n    item.rel = rel;\r\n    item.href = href;\r\n    body.prepend(item);\r\n  };\r\n\r\n  items.sprites.forEach(({ rel, key, objects, tiles }) => {\r\n    for (let index = 1; index <= objects; index++) {\r\n      append(`./assets/sprites/${key}/objects/${index}.png`, rel);\r\n    }\r\n    for (let index = 1; index <= tiles; index++) {\r\n      append(`./assets/sprites/${key}/tiles/${index}.png`, rel);\r\n    }\r\n\r\n    append(`./assets/sprites/${key}/bg.png`, rel);\r\n  });\r\n\r\n  items.player.forEach(({ rel, key, objects }) => {\r\n    for (let index = 1; index <= objects; index++) {\r\n      append(`./assets/sprites/player/left/${key} (${index}).webp`, rel);\r\n      append(`./assets/sprites/player/right/${key} (${index}).webp`, rel);\r\n    }\r\n  });\r\n\r\n  items.water.forEach(({ rel, objects }) => {\r\n    for (let index = 1; index <= objects; index++) {\r\n      append(`./assets/sprites/water/image ${index}.webp`, rel);\r\n    }\r\n  });\r\n\r\n  items.coin.forEach(({ rel, objects }) => {\r\n    for (let index = 1; index <= objects; index++) {\r\n      append(`./assets/sprites/coin/image ${index}.webp`, rel);\r\n    }\r\n  });\r\n\r\n  const audioFiles = [\r\n    { rel: \"preload\", file: \"grasslands\" },\r\n    { rel: \"preload\", file: \"coin\", ext: \"wav\" },\r\n    { rel: \"preload\", file: \"jump\", ext: \"wav\" },\r\n    { rel: \"preload\", file: \"fall\", ext: \"mp3\" },\r\n    { rel: \"preload\", file: \"iceland\" },\r\n    { rel: \"preload\", file: \"desert\" },\r\n    { rel: \"preload\", file: \"dungeon\" },\r\n  ];\r\n\r\n  audioFiles.forEach(({ rel, file, ext = \"mp3\" }) => {\r\n    if (rel === \"preload\") {\r\n      const audio = new Audio();\r\n      audio.url = `./assets/audio/${file}.${ext}`;\r\n    } else {\r\n      append(`./assets/audio/${file}.${ext}`, rel, \"audio\");\r\n    }\r\n  });\r\n};\r\n\r\nexport const populatePortals = (onPortalClick) => {\r\n  const data = [\r\n    { name: \"Grassland 1\", id: 1, areaNum: 1, left: 40, top: 100, ss: \"images/area_1.png\" },\r\n    { name: \"Grassland 2\", id: 2, areaNum: 2, left: 40, top: 100, ss: \"images/area_2.png\" },\r\n    { name: \"Grassland 3\", id: 7, areaNum: 3, left: 40, top: 120, ss: \"images/area_3.png\" },\r\n    { name: \"Iceland 1\", id: 3, areaNum: 4, left: 48, top: 100, ss: \"images/area_4.png\" },\r\n    { name: \"Iceland 2\", id: 8, areaNum: 5, left: 32, top: 20, ss: \"images/area_5.png\" },\r\n  ];\r\n\r\n  const portalsWrapper = document.getElementById(\"portalsWrapper\");\r\n  portalsWrapper.className += \"modal-content-wrapper\";\r\n\r\n  const itemWrapper = document.createElement(\"div\");\r\n  itemWrapper.classList.add(\"portal-item-wrapper\");\r\n\r\n  data.forEach((value) => {\r\n    const { name, ss } = value;\r\n\r\n    const div = document.createElement(\"div\");\r\n    div.className += \"portal-item\";\r\n\r\n    const title = document.createElement(\"div\");\r\n    title.className += \"portal-title\";\r\n    title.textContent = name;\r\n\r\n    const overlay = document.createElement(\"div\");\r\n    overlay.className += \"portal-overlay\";\r\n\r\n    const img = document.createElement(\"img\");\r\n    img.src = ss;\r\n    img.className += \"portal-item portal-img\";\r\n    img.addEventListener(\"click\", () => onPortalClick(value));\r\n\r\n    div.appendChild(img);\r\n    div.appendChild(overlay);\r\n    div.appendChild(title);\r\n    itemWrapper.appendChild(div);\r\n  });\r\n\r\n  portalsWrapper.appendChild(itemWrapper);\r\n};\r\n\r\nexport const populateLinks = () => {\r\n  const links = [\r\n    {\r\n      className: \"btn gh-btn social-btn btn-tut\",\r\n      style: \"margin-left: 0px\",\r\n      link: \"https://github.com/AKAspanion\",\r\n    },\r\n    {\r\n      className: \"btn li-btn social-btn btn-tut\",\r\n      style: \"\",\r\n      link: \"https://www.linkedin.com/in/spanion/\",\r\n    },\r\n    {\r\n      className: \"btn in-btn social-btn btn-tut\",\r\n      style: \"\",\r\n      link: \"https://www.instagram.com/spanionkumar/\",\r\n    },\r\n    {\r\n      className: \"btn fb-btn social-btn btn-tut\",\r\n      style: \"\",\r\n      link: \"https://www.facebook.com/AKAspanion/\",\r\n    },\r\n  ];\r\n\r\n  const linksWrapper = document.getElementById(\"linksWrapper\");\r\n  linksWrapper.className += \"flex-item\";\r\n\r\n  links.forEach(({ link, style, className }) => {\r\n    const a = document.createElement(\"a\");\r\n    a.className += className;\r\n    a.target = \"_blank\";\r\n    a.style = style;\r\n    a.href = link;\r\n\r\n    linksWrapper.appendChild(a);\r\n  });\r\n};\r\n\r\nexport const populateHelp = () => {\r\n  const helpItems = [\r\n    {\r\n      name: \"Mobile\",\r\n      content: [\r\n        {\r\n          items: [\r\n            { className: \"btn left-btn btn-tut\", text: \"to run left\" },\r\n            { className: \"btn right-btn btn-tut\", text: \"to run right\", notap: true },\r\n          ],\r\n        },\r\n        {\r\n          items: [\r\n            { className: \"btn fire-btn btn-tut flex-item\", text: \"to spit fire\", child: \"\" },\r\n          ],\r\n        },\r\n        {\r\n          items: [{ className: \"btn jump-btn btn-tut\", text: \"to jump\" }],\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      name: \"Desktop\",\r\n      content: [\r\n        {\r\n          items: [\r\n            { className: \"btn left-key-btn btn-tut key-btn\", text: \"to run left\" },\r\n            { className: \"btn right-key-btn btn-tut key-btn\", text: \"to run right\", notap: true },\r\n          ],\r\n        },\r\n        {\r\n          items: [\r\n            { className: \"btn fire-key-btn btn-tut flex-item key-btn\", text: \"to spit fire\" },\r\n          ],\r\n        },\r\n        {\r\n          items: [{ className: \"btn jump-key-btn btn-tut key-btn\", text: \"to jump\" }],\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const helpWrapper = document.getElementById(\"helpWrapper\");\r\n  helpWrapper.className += \"modal-content-wrapper\";\r\n\r\n  helpItems.forEach(({ name, content }) => {\r\n    const modalContent = document.createElement(\"div\");\r\n    modalContent.className += \"flex-item modal-content\";\r\n\r\n    const modalhead = document.createElement(\"div\");\r\n    modalhead.className += \"modal-content-head\";\r\n    modalhead.textContent = name;\r\n\r\n    const modalContentDesc = document.createElement(\"div\");\r\n    modalContentDesc.className += \"flex-item modal-content-desc\";\r\n\r\n    content.forEach(({ items }) => {\r\n      const flexItem = document.createElement(\"div\");\r\n      flexItem.className += \"flex-item\";\r\n\r\n      items.forEach(({ className, text, child, notap }) => {\r\n        if (!notap) {\r\n          flexItem.innerHTML += \"Tap\";\r\n        }\r\n\r\n        const btn = document.createElement(\"div\");\r\n        btn.className = className;\r\n\r\n        if (child) {\r\n          btn.textContent = child;\r\n        }\r\n\r\n        flexItem.appendChild(btn);\r\n\r\n        flexItem.innerHTML += text;\r\n      });\r\n\r\n      modalContentDesc.appendChild(flexItem);\r\n    });\r\n\r\n    modalContent.appendChild(modalhead);\r\n    modalContent.appendChild(modalContentDesc);\r\n\r\n    helpWrapper.appendChild(modalContent);\r\n  });\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Game from \"./game\";\r\nimport Screen from \"./screen\";\r\nimport GameEngine from \"./engine\";\r\nimport Controller from \"./controller\";\r\nimport MouseInput from \"./controller/mouse-input\";\r\n\r\nimport {\r\n  uid,\r\n  getData,\r\n  setData,\r\n  populateHelp,\r\n  populateLinks,\r\n  populatePortals,\r\n  preLoadAndFetch,\r\n} from \"./util\";\r\n\r\npreLoadAndFetch();\r\npopulateLinks();\r\npopulateHelp();\r\n\r\nimport areas from \"./areas\";\r\n\r\nlet loadingActive = false;\r\nlet controllerActive = false;\r\nconst isTouchesEnabled = \"ontouchstart\" in document.documentElement;\r\n\r\nconst helpBtn = document.getElementById(\"helpBtn\");\r\nconst infoBtn = document.getElementById(\"infoBtn\");\r\nconst startBtn = document.getElementById(\"startBtn\");\r\nconst pauseBtn = document.getElementById(\"pauseBtn\");\r\nconst soundBtn = document.getElementById(\"soundBtn\");\r\nconst musicBtn = document.getElementById(\"musicBtn\");\r\nconst portalBtn = document.getElementById(\"portalBtn\");\r\nconst helpScreen = document.getElementById(\"helpScreen\");\r\nconst helpCloseBtn = document.getElementById(\"helpCloseBtn\");\r\nconst portalScreen = document.getElementById(\"portalScreen\");\r\nconst portalCloseBtn = document.getElementById(\"portalCloseBtn\");\r\nconst infoScreen = document.getElementById(\"infoScreen\");\r\nconst infoCloseBtn = document.getElementById(\"infoCloseBtn\");\r\nconst refreshBtn = document.getElementById(\"refreshBtn\");\r\nconst startTitle = document.getElementById(\"startTitle\");\r\nconst scoreTitle = document.getElementById(\"scoreTitle\");\r\nconst startScreen = document.getElementById(\"startScreen\");\r\nconst controllers = document.querySelectorAll(\".controller\");\r\nconst loadingScreen = document.getElementById(\"loadingScreen\");\r\nconst progressValue = document.getElementById(\"progressValue\");\r\nconst persistentControllers = document.querySelectorAll(\".persistent-controller\");\r\n\r\nconst toggleSoundBtn = (value) => {\r\n  soundBtn.classList[value ? \"add\" : \"remove\"](\"cancel-cross\");\r\n};\r\n\r\nconst toggleMusicBtn = (value) => {\r\n  musicBtn.classList[value ? \"add\" : \"remove\"](\"cancel-cross\");\r\n};\r\n\r\nconst toggleControllers = (value) => {\r\n  controllerActive = value;\r\n  controllers.forEach(\r\n    (controller) =>\r\n      (controller.style.visibility = isTouchesEnabled && value ? \"visible\" : \"hidden\"),\r\n  );\r\n  persistentControllers.forEach(\r\n    (controller) => (controller.style.visibility = value ? \"visible\" : \"hidden\"),\r\n  );\r\n};\r\n\r\nconst togglePortalScreen = (value) => {\r\n  portalScreen.style.visibility = !value ? \"hidden\" : \"visible\";\r\n};\r\n\r\nconst toggleHelpScreen = (value) => {\r\n  helpScreen.style.visibility = !value ? \"hidden\" : \"visible\";\r\n};\r\n\r\nconst toggleInfoScreen = (value) => {\r\n  infoScreen.style.visibility = !value ? \"hidden\" : \"visible\";\r\n};\r\n\r\nconst toggleStartScreen = (value) => {\r\n  startScreen.style.visibility = !value ? \"hidden\" : \"visible\";\r\n};\r\n\r\nconst toggleLoadingScreen = (value) => {\r\n  loadingActive = value;\r\n  loadingScreen.style.visibility = !value ? \"hidden\" : \"visible\";\r\n};\r\n\r\nconst setProgressValue = (value) => {\r\n  progressValue.style.width = `${value}%`;\r\n};\r\n\r\nwindow.addEventListener(\"load\", function () {\r\n  \"use strict\";\r\n\r\n  let areaId = 1;\r\n  let loaded = false;\r\n  let paused = false;\r\n  let areaNumber = 1;\r\n  let worldChanged = false;\r\n  const totalAreaNumber = 5;\r\n\r\n  toggleSoundBtn(getData(\"mute_sounds\"));\r\n  toggleMusicBtn(getData(\"mute_music\"));\r\n  clearInterval(loadInterval);\r\n  toggleLoadingScreen(false);\r\n  setProgressValue(0);\r\n\r\n  const controller = new Controller();\r\n\r\n  // GAME\r\n  const game = new Game((score) => {\r\n    startTitle.textContent = \"Game Over\";\r\n    scoreTitle.textContent = \"Score: \" + score;\r\n\r\n    const savedScore = getData(\"high_score\") || 0;\r\n    const highScore = savedScore < score ? score : savedScore;\r\n    setData(\"high_score\", savedScore < score ? score : savedScore);\r\n\r\n    if (highScore) {\r\n      document.getElementById(\"highScore\").innerHTML = `High Score: ${highScore}`;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      toggleStartScreen(true);\r\n    }, 1500);\r\n  });\r\n\r\n  const setupWorld = () => {\r\n    game.world.setup(areas[areaId]);\r\n  };\r\n\r\n  // SCREEN\r\n  let screen;\r\n\r\n  // resize game window\r\n  const resize = () => {\r\n    let width = document.documentElement.clientWidth;\r\n    let height = document.documentElement.clientHeight;\r\n    let gWidth = game.world.width;\r\n    let gHeight = game.world.height;\r\n\r\n    if (width <= 480) {\r\n      [width, height] = [height, width];\r\n      [gWidth, gHeight] = [gHeight, gWidth];\r\n    }\r\n\r\n    screen.resize(width, height, game.world.width, game.world.height);\r\n    screen.render();\r\n  };\r\n\r\n  const setupScreen = () => {\r\n    screen = new Screen(document.querySelector(\"canvas\"), areas[areaId].world);\r\n\r\n    screen.buffer.canvas.height = game.world.height;\r\n    screen.buffer.canvas.width = game.world.width;\r\n    resize();\r\n  };\r\n\r\n  setupScreen();\r\n\r\n  // GAME ENGINE\r\n\r\n  const loadPercent = () => {\r\n    const totalAssets = (worldChanged ? 0 : game.world.assetCount) + screen.assetCount;\r\n    const totalLoaded = (worldChanged ? 0 : game.world.loadCount) + screen.loadCount;\r\n\r\n    return Math.round((totalLoaded / totalAssets) * 100);\r\n  };\r\n\r\n  const isLoaded = () => {\r\n    return game.isLoaded() && screen.isLoaded();\r\n  };\r\n\r\n  // update game logic\r\n  const update = () => {\r\n    loaded = isLoaded();\r\n    const loadValue = loadPercent();\r\n\r\n    const { player, portal } = game.world;\r\n\r\n    if (loadValue < 100) {\r\n      setProgressValue(loadValue == 99 ? 100 : loadValue);\r\n    }\r\n\r\n    if (!loaded) {\r\n      if (controllerActive) {\r\n        toggleControllers(false);\r\n      }\r\n      if (!loadingActive) {\r\n        toggleLoadingScreen(true);\r\n      }\r\n    } else {\r\n      if (loadingActive) {\r\n        toggleLoadingScreen(false);\r\n        setProgressValue(0);\r\n      }\r\n      if (!controllerActive) {\r\n        toggleControllers(true);\r\n      }\r\n    }\r\n\r\n    if (!game.over && loaded && !paused) {\r\n      if (controller.left.active) {\r\n        player.moveLeft();\r\n      }\r\n      if (controller.right.active) {\r\n        player.moveRight();\r\n      }\r\n      if (controller.up.active) {\r\n        if (!player.jumping) {\r\n          game.world.playJumpSound();\r\n        }\r\n        player.jump();\r\n        controller.up.active = false;\r\n      }\r\n      if (controller.fire.active && !player.firing) {\r\n        const { fireballs } = game.world;\r\n        const offsetX = player.direction < 0 ? -32 : 8;\r\n\r\n        player.fire();\r\n        game.world.playFireSound();\r\n        fireballs.add(uid(), player.x + offsetX, player.y - 16, player.direction);\r\n        controller.fire.active = false;\r\n      }\r\n    }\r\n\r\n    if (portal) {\r\n      worldChanged = true;\r\n      engine.hold();\r\n\r\n      const { direction, destinationArea } = portal;\r\n      if (destinationArea !== areaId) {\r\n        if (direction < 0) {\r\n          areaNumber--;\r\n        } else {\r\n          areaNumber++;\r\n        }\r\n\r\n        if (areaNumber >= totalAreaNumber) {\r\n          areaNumber = 1;\r\n        }\r\n        if (areaNumber <= 0) {\r\n          areaNumber = totalAreaNumber;\r\n        }\r\n      }\r\n\r\n      areaId = destinationArea;\r\n\r\n      setupWorld();\r\n      setupScreen();\r\n\r\n      engine.resume();\r\n    }\r\n\r\n    game.update();\r\n  };\r\n\r\n  // render assets\r\n  const render = () => {\r\n    screen.drawBackground();\r\n\r\n    const {\r\n      map,\r\n      coins,\r\n      water,\r\n      player,\r\n      columns,\r\n      objects,\r\n      enemies,\r\n      fireballs,\r\n      totalCoins,\r\n      totalEnemies,\r\n    } = game.world;\r\n\r\n    // draw water animations\r\n    if (water) {\r\n      for (let index = 0; index < water.items.length; index++) {\r\n        const waterItem = water.items[index];\r\n\r\n        screen.drawObject(\r\n          waterItem.animator.frameValue,\r\n          waterItem.x,\r\n          waterItem.y,\r\n          waterItem.width,\r\n          waterItem.height,\r\n          waterItem.offsetX,\r\n          waterItem.offsetY,\r\n        );\r\n      }\r\n    }\r\n\r\n    screen.drawMap(map);\r\n    screen.drawMapObjects(objects);\r\n    // screen.drawArea(game.world.portals);\r\n    // screen.drawArea(game.world.deathAreas);\r\n    // screen.drawArea(game.world.enemies.items);\r\n\r\n    // draw coins\r\n    if (coins) {\r\n      for (let index = 0; index < coins.items.length; index++) {\r\n        const coin = coins.items[index];\r\n\r\n        screen.drawObject(\r\n          coin.animator.frameValue,\r\n          coin.x,\r\n          coin.y,\r\n          coin.width,\r\n          coin.height,\r\n          coin.offsetX,\r\n          coin.offsetY,\r\n        );\r\n        // screen.drawText(coin.id, coin.x, coin.y);\r\n        // screen.drawRect(coin);\r\n      }\r\n    }\r\n\r\n    // draw fireballs\r\n    if (fireballs) {\r\n      for (let index = 0; index < fireballs.items.length; index++) {\r\n        const fireball = fireballs.items[index];\r\n\r\n        screen.drawObject(\r\n          fireball.animator.frameValue,\r\n          fireball.x,\r\n          fireball.y,\r\n          fireball.width,\r\n          fireball.height,\r\n        );\r\n      }\r\n    }\r\n\r\n    // draw enemies\r\n    if (enemies) {\r\n      for (let index = 0; index < enemies.items.length; index++) {\r\n        const enemy = enemies.items[index];\r\n\r\n        screen.drawObject(\r\n          enemy.animator.frameValue,\r\n          enemy.x,\r\n          enemy.y,\r\n          enemy.width,\r\n          enemy.height,\r\n          0,\r\n          1,\r\n        );\r\n      }\r\n    }\r\n\r\n    // draw player\r\n    const dead = game.world.isPlayerDead;\r\n    const deadOffset = dead ? (player.direction < 0 ? 12 : -12) : 0;\r\n    const xOffset = player.direction < 0 ? -36 + deadOffset : -12 + deadOffset;\r\n    screen.drawPlayer(\r\n      player.animator.frameValue,\r\n      player.getLeft(),\r\n      player.getTop(),\r\n      60,\r\n      40,\r\n      xOffset,\r\n      -24,\r\n    );\r\n\r\n    // draw coin count\r\n    const image = new Image();\r\n    image.src = \"./assets/sprites/coin/image 1.webp\";\r\n    const coinTextOffest = totalCoins >= 10 && totalCoins <= 99 ? 3 : totalCoins > 99 ? 3.4 : 2.7;\r\n\r\n    screen.drawObject(image, (columns - 1.3) * 16, 8, 10, 10);\r\n    screen.drawText(\"x\", (columns - 2) * 16, 15);\r\n    screen.drawText(totalCoins, (columns - coinTextOffest) * 16, 16.1);\r\n\r\n    screen.drawText(areaNumber, 48, 15.3);\r\n    screen.drawText(\"Area\", 12, 15.3);\r\n    screen.drawText(\"x\", 38, 15);\r\n\r\n    const score = totalEnemies * 100 + totalCoins * 20;\r\n    const scoreTextOffest = score >= score >= 10 && score <= 99 ? 3 : score > 99 ? 3.4 : 2.7;\r\n    screen.drawText(score, (columns - scoreTextOffest) * 9, 15.3);\r\n\r\n    screen.render();\r\n  };\r\n\r\n  resize();\r\n\r\n  var engine = new GameEngine(1000 / 30, update, render);\r\n\r\n  // EVENTS HANDLER\r\n  const keyDownUp = ({ type, keyCode }) => {\r\n    controller.keyDownUp(type, keyCode);\r\n  };\r\n\r\n  window.addEventListener(\"keydown\", keyDownUp);\r\n  window.addEventListener(\"keyup\", keyDownUp);\r\n  window.addEventListener(\"resize\", resize);\r\n\r\n  const leftMouse = new MouseInput(\"leftBtn\", (e) => {\r\n    clearMouse();\r\n    controller.keyDownUp(e, 37);\r\n  });\r\n  const rightMouse = new MouseInput(\"rightBtn\", (e) => {\r\n    clearMouse();\r\n    controller.keyDownUp(e, 39);\r\n  });\r\n  const upMouse = new MouseInput(\"jumpBtn\", (e) => {\r\n    clearMouse();\r\n    controller.keyDownUp(e, 32);\r\n  });\r\n\r\n  const fireMouse = new MouseInput(\"fireBtn\", (e) => {\r\n    clearMouse();\r\n    controller.keyDownUp(e, 13);\r\n  });\r\n\r\n  const clearMouse = () => {\r\n    upMouse.actions.clear();\r\n    fireMouse.actions.clear();\r\n    leftMouse.actions.clear();\r\n    rightMouse.actions.clear();\r\n  };\r\n\r\n  const loadWorld = (id = 1, areaNum = 1, left = 40, top = 100, refresh = false) => {\r\n    clearMouse();\r\n    startTitle.textContent = \"\";\r\n    scoreTitle.textContent = \"\";\r\n    toggleStartScreen(false);\r\n\r\n    const start = () => {\r\n      game.world.reset();\r\n      game.over = false;\r\n\r\n      engine.hold();\r\n\r\n      game.world.player.setLeft(left);\r\n      game.world.player.setTop(top);\r\n\r\n      areaId = id;\r\n      areaNumber = areaNum;\r\n\r\n      setupWorld();\r\n      setupScreen();\r\n\r\n      resize();\r\n\r\n      engine.resume();\r\n    };\r\n\r\n    if (paused) {\r\n      paused = false;\r\n\r\n      game.world.playThemeMusic();\r\n      startBtn.textContent = \"play\";\r\n\r\n      if (refresh) {\r\n        start();\r\n      }\r\n    } else {\r\n      start();\r\n    }\r\n\r\n    if (!engine.started) {\r\n      engine.start();\r\n    }\r\n  };\r\n\r\n  const onPortalClick = ({ id, areaNum, left, top }) => {\r\n    togglePortalScreen(false);\r\n    loadWorld(id, areaNum, left, top, true);\r\n  };\r\n\r\n  populatePortals(onPortalClick);\r\n\r\n  startBtn.onclick = () => {\r\n    loadWorld();\r\n  };\r\n\r\n  pauseBtn.onclick = () => {\r\n    clearMouse();\r\n    toggleStartScreen(true);\r\n\r\n    game.world.pauseThemeMusic();\r\n    startBtn.textContent = \"resume\";\r\n\r\n    paused = true;\r\n  };\r\n\r\n  refreshBtn.onclick = () => {\r\n    areaNumber = 1;\r\n    startBtn.click();\r\n  };\r\n\r\n  soundBtn.onclick = () => {\r\n    const isMuted = !getData(\"mute_sounds\");\r\n\r\n    setData(\"mute_sounds\", isMuted);\r\n    toggleSoundBtn(isMuted);\r\n  };\r\n\r\n  musicBtn.onclick = () => {\r\n    const isMuted = !getData(\"mute_music\");\r\n\r\n    setData(\"mute_music\", isMuted);\r\n    toggleMusicBtn(isMuted);\r\n  };\r\n\r\n  portalBtn.onclick = () => {\r\n    togglePortalScreen(true);\r\n  };\r\n\r\n  helpBtn.onclick = () => {\r\n    toggleHelpScreen(true);\r\n  };\r\n\r\n  helpCloseBtn.onclick = () => {\r\n    toggleHelpScreen(false);\r\n  };\r\n\r\n  portalCloseBtn.onclick = () => {\r\n    togglePortalScreen(false);\r\n  };\r\n\r\n  infoBtn.onclick = () => {\r\n    toggleInfoScreen(true);\r\n  };\r\n\r\n  infoCloseBtn.onclick = () => {\r\n    toggleInfoScreen(false);\r\n  };\r\n\r\n  document.addEventListener(\"visibilitychange\", function () {\r\n    if (document.visibilityState === \"visible\") {\r\n      if (!paused) {\r\n        game.world.playThemeMusic();\r\n      }\r\n    } else {\r\n      game.world.pauseThemeMusic();\r\n    }\r\n  });\r\n\r\n  // startBtn.click();\r\n});\r\n"],"names":["image"],"sourceRoot":""}