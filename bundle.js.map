{"version":3,"sources":["webpack://platformer-game/./app/areas/index.js","webpack://platformer-game/./app/controller/audio.js","webpack://platformer-game/./app/controller/index.js","webpack://platformer-game/./app/controller/input.js","webpack://platformer-game/./app/controller/mouse-input.js","webpack://platformer-game/./app/engine/index.js","webpack://platformer-game/./app/game/animator.js","webpack://platformer-game/./app/game/coins.js","webpack://platformer-game/./app/game/collider.js","webpack://platformer-game/./app/game/enemies.js","webpack://platformer-game/./app/game/fireballs.js","webpack://platformer-game/./app/game/index.js","webpack://platformer-game/./app/game/object.js","webpack://platformer-game/./app/game/player.js","webpack://platformer-game/./app/game/portal.js","webpack://platformer-game/./app/game/water.js","webpack://platformer-game/./app/game/world.js","webpack://platformer-game/./app/index.js","webpack://platformer-game/./app/screen/index.js","webpack://platformer-game/./app/screen/tileset.js","webpack://platformer-game/./app/util/index.js","webpack://platformer-game/webpack/bootstrap","webpack://platformer-game/webpack/runtime/define property getters","webpack://platformer-game/webpack/runtime/hasOwnProperty shorthand","webpack://platformer-game/webpack/runtime/make namespace object","webpack://platformer-game/webpack/startup"],"names":["AudioController","this","count","audios","key","ext","volume","getData","audio","Audio","play","error","loaded","filteredAudios","filter","file","length","done","onload","forEach","addEventListener","src","loop","pause","currentTime","value","callback","go","delay","Controller","up","left","right","fire","type","keyCode","down","getInput","Input","active","MouseInput","id","action","actions","holdit","document","getElementById","btn","start","speedup","timeout","clear","clearTimeout","preventDefault","e","repeat","setTimeout","ontouchstart","ontouchend","console","GameEngine","timeStep","update","render","started","updated","time","extraTime","animationFrameRequest","engineLoop","t","timeStamp","window","requestAnimationFrame","performance","now","cancelAnimationFrame","Animator","frameSet","frameIndex","frameValue","last","items","objects","tileSize","collectedCoins","frameSets","assetCount","loadCount","index","image","Image","k","push","addImage","top","offsetX","offsetY","includes","Coin","coin","splice","indexOf","updateAnimation","x","y","super","baseX","baseY","positionX","Math","random","PI","positionY","animator","cos","sin","animate","Collider","object","tileX","tileY","router","direction","collidePlatformTop","collidePlatformBottom","collidePlatformLeft","collidePlatformRight","flag","keys","split","bottomTile","getTop","getOldTop","setTop","velocityY","leftTile","getRight","getOldRight","setRight","velocityX","rightTile","getLeft","getOldLeft","setLeft","topTile","getBottom","getOldBottom","setBottom","jumping","enemyTypes","pig","maxV","minV","width","height","slime","chameleon","Enemies","enemies","killedEnemies","reduce","total","onImgLoad","imageLeft","imageRight","sway","dir","Enemy","enemy","velocity","changeFrameSet","Fireballs","Fireball","fireball","Game","gameOverCallback","world","over","onGameOver","totalEnemies","totalCoins","isLoaded","val","Object","xOld","yOld","Player","color","running","firing","keyLeft","toLowerCase","keyRight","dead","gravity","friction","absVelocityX","abs","Portal","destinationX","destinationY","destinationArea","Water","waterObjects","WaterObject","World","rows","columns","player","collider","fireballs","audioController","data","theme","playedThemeMusic","load","stopThemeMusic","map","areaMap","isPlayerDead","objectsMap","collisonMap","deathAreas","death","coins","portals","p","water","reset","portal","setCenterX","setCenterY","stop","bottom","_normalizeIndex","floor","collide","maxIndex","object1","object2","isAssetsLoaded","playThemeMusic","collideObject","checkCollision","remove","j","onPlayerDead","preLoadAndFetch","populateLinks","populateHelp","loadingActive","controllerActive","isTouchesEnabled","documentElement","helpBtn","infoBtn","startBtn","pauseBtn","soundBtn","musicBtn","portalBtn","helpScreen","helpCloseBtn","portalScreen","portalCloseBtn","infoScreen","infoCloseBtn","refreshBtn","startTitle","scoreTitle","startScreen","controllers","querySelectorAll","loadingScreen","progressValue","persistentControllers","toggleSoundBtn","classList","toggleMusicBtn","toggleControllers","controller","style","visibility","togglePortalScreen","toggleHelpScreen","toggleInfoScreen","toggleStartScreen","toggleLoadingScreen","setProgressValue","areaId","paused","areaNumber","worldChanged","clearInterval","loadInterval","game","score","textContent","savedScore","highScore","setData","innerHTML","setupWorld","setup","screen","setupScreen","querySelector","buffer","canvas","resize","clientWidth","clientHeight","engine","loadValue","totalAssets","totalLoaded","round","loadPercent","moveLeft","moveRight","playJumpSound","jump","playFireSound","add","uid","hold","resume","drawBackground","waterItem","drawObject","drawMap","drawMapObjects","deadOffset","xOffset","drawPlayer","coinTextOffest","drawText","scoreTextOffest","keyDownUp","leftMouse","clearMouse","rightMouse","upMouse","fireMouse","loadWorld","areaNum","refresh","populatePortals","onclick","pauseThemeMusic","click","isMuted","visibilityState","Screen","createElement","getContext","context","tileSet","images","drawTile","drawImage","i","row","Array","isArray","fillRect","objectImages","element","yOffset","tileBackground","text","fillStyle","font","fillText","rect","ratio","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","imageSmoothingEnabled","TileSet","worldKey","meta","1","objectLen","tileLen","2","3","4","5","Date","toString","substring","localStorage","setItem","JSON","stringify","parse","getItem","sprites","rel","tiles","body","getElementsByTagName","append","href","as","item","prepend","url","onPortalClick","portalsWrapper","className","itemWrapper","name","ss","div","title","overlay","img","appendChild","linksWrapper","link","a","target","helpWrapper","content","notap","child","modalContent","modalhead","modalContentDesc","flexItem","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag"],"mappings":"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","file":"bundle.js","sourcesContent":["import area1 from \"./area-1.json\";\nimport area2 from \"./area-2.json\";\nimport area3 from \"./area-3.json\";\nimport area4 from \"./area-4.json\";\nimport area5 from \"./area-5.json\";\nimport area6 from \"./area-6.json\";\nimport area7 from \"./area-7.json\";\nimport area8 from \"./area-8.json\";\n\nexport default {\n  [area1.id]: area1,\n  [area2.id]: area2,\n  [area3.id]: area3,\n  [area3.id]: area3,\n  [area4.id]: area4,\n  [area5.id]: area5,\n  [area6.id]: area6,\n  [area7.id]: area7,\n  [area8.id]: area8,\n};\n","import { getData } from \"../util/\";\nexport default class AudioController {\n  constructor() {\n    this.count = 4;\n    this.audios = {};\n  }\n\n  static play(key, ext = \"wav\", volume = 0.4) {\n    if (getData(\"mute_sounds\")) return;\n\n    const audio = new Audio(`./assets/audio/${key}.${ext}`);\n    audio.volume = volume;\n    audio.play();\n  }\n\n  play(key, ext = \"wav\") {\n    try {\n      if (!this.audios[key]) {\n        this.audios[key] = new Audio(`./assets/audio/${key}.${ext}`);\n      }\n\n      this.audios[key].volume = 0.4;\n\n      if (getData(\"mute_music\")) return;\n\n      this.audios[key].play();\n    } catch (error) {}\n\n    return this;\n  }\n\n  load(audios = [], loaded) {\n    const filteredAudios = audios.filter(({ file }) => !this.audios[file]);\n\n    if (!filteredAudios.length) {\n      loaded(true);\n      return;\n    }\n\n    loaded(false);\n\n    let done = 0;\n    const onload = () => {\n      done += 1;\n      if (filteredAudios.length === done) {\n        loaded(true);\n      }\n    };\n\n    audios.forEach(({ file, ext = \"mp3\" }) => {\n      this.audios[file] = new Audio();\n      this.audios[file].addEventListener(\"canplaythrough\", onload, false);\n      this.audios[file].src = `./assets/audio/${file}.${ext}`;\n      this.audios[file].volume = 0.5;\n    });\n  }\n\n  loop(key) {\n    if (this.audios[key]) {\n      this.audios[key].loop = true;\n    }\n  }\n\n  pause(key) {\n    if (this.audios[key]) {\n      this.audios[key].pause();\n    }\n  }\n\n  stop(key) {\n    if (this.audios[key]) {\n      this.pause(key);\n      this.audios[key].currentTime = 0;\n    }\n  }\n\n  volume(key, value) {\n    if (this.audios[key]) {\n      this.audios[key].volume = value / 100;\n    }\n  }\n\n  static animate(callback, go = false, delay = 12) {\n    if (go) {\n      this.count++;\n\n      while (this.count > delay) {\n        this.count -= delay;\n        callback();\n      }\n    } else {\n      this.count = 4;\n    }\n  }\n}\n","import Input from \"./input\";\n\nexport default class Controller {\n  constructor() {\n    this.up = new Input();\n    this.left = new Input();\n    this.right = new Input();\n    this.fire = new Input();\n  }\n\n  keyDownUp(type, keyCode) {\n    let down = type == \"keydown\" ? true : false;\n\n    switch (keyCode) {\n      case 37:\n      case 65:\n        this.left.getInput(down);\n        break;\n      case 38:\n      case 32:\n        this.up.getInput(down);\n        break;\n      case 39:\n      case 68:\n        this.right.getInput(down);\n        break;\n      case 13:\n      case 16:\n        this.fire.getInput(down);\n    }\n  }\n}\n","export default class Input {\n  constructor() {\n    this.down = false;\n    this.active = false;\n  }\n\n  getInput(down) {\n    if (this.down != down) this.active = down;\n    this.down = down;\n  }\n}\n","export default class MouseInput {\n  constructor(id, action) {\n    this.actions = this.holdit(document.getElementById(id), action, 1000, 2);\n  }\n\n  holdit(btn, action, start, speedup) {\n    let timeout;\n\n    const clear = () => {\n      clearTimeout(timeout);\n    };\n\n    const preventDefault = (e) => {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n    };\n\n    const repeat = function () {\n      action(\"keydown\");\n\n      timeout = setTimeout(repeat, start);\n      start = start / speedup;\n    };\n\n    try {\n      btn.ontouchstart = function (e) {\n        preventDefault(e);\n\n        repeat();\n      };\n\n      btn.ontouchend = function (e) {\n        preventDefault(e);\n        action(\"keyup\");\n\n        clear();\n      };\n    } catch (error) {\n      console.error(\"Error in mouse input\", error);\n    }\n    return { clear };\n  }\n}\n","export default class GameEngine {\n  constructor(timeStep, update, render) {\n    this.timeStep = timeStep;\n    this.update = update;\n    this.render = render;\n    this.started = false;\n\n    this.pause = false;\n\n    this.updated = false;\n\n    this.time = null;\n    this.extraTime = 0;\n    this.animationFrameRequest = null;\n    this.engineLoop = (t) => this.loop(t);\n  }\n\n  loop(timeStamp) {\n    if (this.pause) {\n      return;\n    }\n\n    this.animationFrameRequest = window.requestAnimationFrame(this.engineLoop);\n\n    this.extraTime += timeStamp - this.time;\n    this.time = timeStamp;\n\n    if (this.extraTime >= this.timeStep * 3) {\n      this.extraTime = this.timeStep;\n    }\n\n    while (this.extraTime >= this.timeStep) {\n      this.extraTime -= this.timeStep;\n\n      this.update(this.timeStamp);\n\n      this.updated = true;\n    }\n\n    if (this.updated) {\n      this.updated = false;\n      this.render(this.timeStamp);\n    }\n  }\n\n  start() {\n    this.started = true;\n    this.extraTime = this.timeStep;\n\n    this.time = window.performance.now();\n    this.animationFrameRequest = window.requestAnimationFrame(this.engineLoop);\n  }\n\n  stop() {\n    window.cancelAnimationFrame(this.animationFrameRequest);\n  }\n\n  hold() {\n    this.pause = true;\n  }\n\n  resume() {\n    this.pause = false;\n  }\n}\n","export default class Animator {\n  constructor(frameSet, delay = 4) {\n    this.count = 0;\n    this.delay = delay >= 1 ? delay : 1;\n    this.frameSet = frameSet;\n    this.frameIndex = 0;\n    this.frameValue = frameSet[0];\n  }\n\n  animate(last) {\n    this.loop(last);\n  }\n\n  changeFrameSet(frameSet, delay = 4, frameIndex = 0) {\n    if (this.frameSet === frameSet) {\n      return;\n    }\n\n    this.count = 0;\n    this.delay = delay;\n    this.frameSet = frameSet;\n    this.frameIndex = frameIndex;\n    this.frameValue = frameSet[frameIndex];\n  }\n\n  loop(last) {\n    this.count++;\n\n    while (this.count > this.delay) {\n      this.count -= this.delay;\n\n      if (last && this.frameIndex === this.frameSet.length - 1) {\n        this.frameIndex = this.frameSet.length - 1;\n      } else {\n        this.frameIndex =\n          this.frameIndex < this.frameSet.length - 1 ? this.frameIndex + 1 : 0;\n      }\n\n      this.frameValue = this.frameSet[this.frameIndex];\n    }\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\nexport default class items {\n  constructor(objects = [], tileSize, collectedCoins) {\n    this.items = [];\n    this.loaded = false;\n\n    const keys = [{ id: \"\", count: 16 }];\n\n    this.frameSets = {};\n\n    this.assetCount = 16;\n    this.loadCount = 0;\n    keys.forEach(({ count }) => {\n      for (let index = 1; index <= count; index++) {\n        const image = new Image();\n        image.onload = (e) => {\n          this.loadCount += 1;\n\n          if (count === this.loadCount) {\n            this.loaded = true;\n          }\n        };\n        image.src = `./assets/sprites/coin/image ${index}.webp`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(\"coin\", image);\n      }\n    });\n\n    for (let index = 0; index < objects.length; index++) {\n      const { id, left, top, offsetX, offsetY } = objects[index];\n\n      if (!collectedCoins.includes(id)) {\n        this.items.push(\n          new Coin(id, left * tileSize, top * tileSize, offsetX, offsetY, this.frameSets[\"coin\"])\n        );\n      }\n    }\n  }\n\n  remove(coin) {\n    this.items.splice(this.items.indexOf(coin), 1);\n  }\n\n  update() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].update();\n    }\n  }\n\n  updateAnimation() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].updateAnimation();\n    }\n  }\n}\n\nclass Coin extends Object {\n  constructor(id, x, y, offsetX = 3, offsetY = 3, frameSet) {\n    super(x, y, 8, 10);\n\n    this.id = id;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    this.baseX = x;\n    this.baseY = y;\n    this.positionX = Math.random() * Math.PI * 2;\n    this.positionY = this.positionX * 2;\n\n    this.animator = new Animator(frameSet);\n  }\n\n  update() {\n    this.positionX += 0.1;\n    this.positionY += 0.15;\n\n    this.x = this.baseX + Math.cos(this.positionX) * 1.5;\n    this.y = this.baseY + Math.sin(this.positionY);\n  }\n\n  updateAnimation() {\n    this.animator.animate();\n  }\n}\n","export default class Collider {\n  collide(value, object, tileX, tileY, tileSize) {\n    const router = (direction) => {\n      switch (direction) {\n        case \"t\":\n          return this.collidePlatformTop(object, tileY);\n        case \"b\":\n          return this.collidePlatformBottom(object, tileY + tileSize);\n        case \"l\":\n          return this.collidePlatformLeft(object, tileX);\n        case \"r\":\n          return this.collidePlatformRight(object, tileX + tileSize);\n        default:\n          break;\n      }\n    };\n\n    let flag = false;\n    if (typeof value === \"string\") {\n      const keys = value.split(\"\");\n\n      for (let index = 0; index < keys.length; index++) {\n        flag = router(keys[index]);\n        if (flag) {\n          break;\n        }\n      }\n    }\n\n    return flag;\n  }\n\n  collidePlatformBottom(object, bottomTile) {\n    if (object.getTop() < bottomTile && object.getOldTop() >= bottomTile) {\n      object.setTop(bottomTile);\n      object.velocityY = 0;\n      return true;\n    }\n    return false;\n  }\n\n  collidePlatformLeft(object, leftTile) {\n    if (object.getRight() > leftTile && object.getOldRight() <= leftTile) {\n      object.setRight(leftTile - 0.01);\n      object.velocityX = 0;\n      return true;\n    }\n    return false;\n  }\n\n  collidePlatformRight(object, rightTile) {\n    if (object.getLeft() < rightTile && object.getOldLeft() >= rightTile) {\n      object.setLeft(rightTile);\n      object.velocityX = 0;\n      return true;\n    }\n    return false;\n  }\n\n  collidePlatformTop(object, topTile) {\n    if (object.getBottom() > topTile && object.getOldBottom() <= topTile) {\n      object.setBottom(topTile - 0.01);\n      object.velocityY = 0;\n      object.jumping = false;\n      return true;\n    }\n    return false;\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\n\nconst enemyTypes = {\n  pig: {\n    maxV: 0.8,\n    minV: 0.5,\n    delay: 2,\n    width: 21,\n    height: 20,\n  },\n  slime: {\n    maxV: 0.4,\n    minV: 0.2,\n    delay: 4,\n    width: 23,\n    height: 20,\n  },\n  chameleon: {\n    maxV: 0.4,\n    minV: 0.2,\n    delay: 2,\n    width: 22,\n    height: 20,\n  },\n};\n\nexport default class Enemies {\n  constructor(enemies = [], tileSize = 16, killedEnemies = \"\") {\n    this.items = [];\n    this.loaded = false;\n\n    const keys = [\n      { id: \"pig\", count: 16 },\n      { id: \"slime\", count: 10 },\n      { id: \"chameleon\", count: 8 },\n    ];\n\n    this.frameSets = {};\n\n    this.loadCount = 0;\n    this.assetCount = keys.reduce((total, { count }) => total + count * 2, 0);\n\n    keys.forEach(({ id, count }) => {\n      for (let index = 1; index <= count; index++) {\n        const onImgLoad = () => {\n          this.loadCount += 1;\n\n          if (this.assetCount === this.loadCount) {\n            this.loaded = true;\n          }\n        };\n        const imageLeft = new Image();\n        const imageRight = new Image();\n        imageLeft.onload = onImgLoad;\n        imageRight.onload = onImgLoad;\n        imageLeft.src = `./assets/sprites/enemies/${id}/left/image_part_0${index}.png`;\n        imageRight.src = `./assets/sprites/enemies/${id}/right/image_part_0${index}.png`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(`${id}Left`, imageLeft);\n        addImage(`${id}Right`, imageRight);\n      }\n    });\n\n    for (let index = 0; index < enemies.length; index++) {\n      const { id, type, left, top, sway, dir } = enemies[index];\n\n      if (!killedEnemies.includes(id)) {\n        this.items.push(\n          new Enemy(\n            id,\n            type,\n            left * tileSize,\n            top * tileSize,\n            [this.frameSets[`${type}Left`], this.frameSets[`${type}Right`]],\n            sway,\n            dir\n          )\n        );\n      }\n    }\n  }\n\n  remove(enemy) {\n    this.items.splice(this.items.indexOf(enemy), 1);\n  }\n\n  update() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].update();\n    }\n  }\n\n  updateAnimation() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].updateAnimation();\n    }\n  }\n}\n\nclass Enemy extends Object {\n  constructor(id, type, x, y, frameSets, sway = 24, direction = 1) {\n    const { width = 20, height = 20, delay = 2, maxV = 0.8, minV = 0.5 } = enemyTypes[type] || {};\n\n    super(x, y - 4, width, height);\n\n    this.id = id;\n    this.sway = sway;\n    this.frameSets = frameSets;\n\n    this.baseX = x;\n    this.baseY = y;\n    this.delay = delay;\n    this.direction = direction;\n    this.velocity = Math.random() * (maxV - minV) + minV;\n\n    this.animator = new Animator(frameSets[direction < 0 ? 0 : 1], delay);\n  }\n\n  update() {\n    this.x += this.velocity * this.direction;\n\n    if (this.x > this.baseX + this.sway) {\n      this.direction = -1;\n      this.animator.changeFrameSet(this.frameSets[0], this.delay);\n    } else if (this.x <= this.baseX - this.sway) {\n      this.direction = 1;\n      this.animator.changeFrameSet(this.frameSets[1], this.delay);\n    }\n  }\n\n  updateAnimation() {\n    this.animator.animate();\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\n\nexport default class Fireballs {\n  constructor() {\n    this.items = [];\n    this.loaded = false;\n\n    this.frameSets = {};\n\n    const keys = [{ id: \"\", count: 5 }];\n\n    this.assetCount = 10;\n    this.loadCount = 0;\n    keys.forEach(({ count }) => {\n      for (let index = 1; index <= count; index++) {\n        const onImgLoad = () => {\n          this.loadCount += 1;\n\n          if (this.assetCount === this.loadCount) {\n            this.loaded = true;\n          }\n        };\n        const imageLeft = new Image();\n        imageLeft.onload = onImgLoad;\n        imageLeft.src = `./assets/sprites/fireball/left/image ${index}.webp`;\n        const imageRight = new Image();\n        imageRight.onload = onImgLoad;\n        imageRight.src = `./assets/sprites/fireball/right/image ${index}.webp`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(\"fireballLeft\", imageLeft);\n        addImage(\"fireballRight\", imageRight);\n      }\n    });\n  }\n\n  update() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].update();\n    }\n  }\n\n  updateAnimation() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].updateAnimation();\n    }\n  }\n\n  add(id, x, y, direction) {\n    this.items.push(\n      new Fireball(\n        id,\n        x,\n        y,\n        direction,\n        this.frameSets[`fireball${direction < 0 ? \"Left\" : \"Right\"}`]\n      )\n    );\n  }\n\n  remove(fireball) {\n    this.items.splice(this.items.indexOf(fireball), 1);\n  }\n\n  reset() {\n    this.items = [];\n  }\n}\n\nclass Fireball extends Object {\n  constructor(id, x, y, direction, frameSet) {\n    super(x, y, 32, 16);\n\n    this.id = id;\n    this.direction = direction;\n\n    this.velocity = 5;\n\n    this.animator = new Animator(frameSet);\n  }\n\n  update() {\n    if (this.direction < 0) {\n      this.x -= this.velocity;\n    } else {\n      this.x += this.velocity;\n    }\n  }\n\n  updateAnimation() {\n    this.animator.animate();\n  }\n}\n","import World from \"./world\";\n\nexport default class Game {\n  constructor(gameOverCallback) {\n    this.world = new World();\n    this.over = false;\n\n    this.onGameOver = () => {\n      this.over = true;\n\n      gameOverCallback(this.world.totalEnemies * 100 + this.world.totalCoins * 20);\n    };\n  }\n\n  isLoaded() {\n    return this.world.isLoaded();\n  }\n\n  update() {\n    this.world.update(this.onGameOver);\n  }\n\n  setGameOver(val) {\n    this.over = val;\n  }\n}\n","export default class Object {\n  constructor(x, y, width, height) {\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.xOld = x;\n    this.y = y;\n    this.yOld = y;\n  }\n\n  getBottom() {\n    return this.y + this.height;\n  }\n\n  getLeft() {\n    return this.x;\n  }\n\n  getRight() {\n    return this.x + this.width;\n  }\n\n  getTop() {\n    return this.y;\n  }\n\n  getOldBottom() {\n    return this.yOld + this.height;\n  }\n\n  getOldLeft() {\n    return this.xOld;\n  }\n\n  getOldRight() {\n    return this.xOld + this.width;\n  }\n\n  getOldTop() {\n    return this.yOld;\n  }\n\n  getCenterX() {\n    return this.x + this.width * 0.5;\n  }\n\n  getCenterY() {\n    return this.y + this.height * 0.5;\n  }\n\n  setBottom(y) {\n    this.y = y - this.height;\n  }\n\n  setLeft(x) {\n    this.x = x;\n  }\n\n  setRight(x) {\n    this.x = x - this.width;\n  }\n\n  setTop(y) {\n    this.y = y;\n  }\n\n  setOldBottom(y) {\n    this.yOld = y - this.height;\n  }\n\n  setOldLeft(x) {\n    this.xOld = x;\n  }\n\n  setOldRight(x) {\n    this.xOld = x - this.width;\n  }\n\n  setOldTop(y) {\n    this.yOld = y;\n  }\n\n  setCenterX(x) {\n    this.x = x - this.width * 0.5;\n  }\n\n  setCenterY(y) {\n    this.y = y - this.height * 0.5;\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\nexport default class Player extends Object {\n  constructor() {\n    super(40, 100, 12, 12);\n    this.color = \"#ff0000\";\n    this.loaded = false;\n\n    this.running = false;\n    this.jumping = true;\n    this.firing = true;\n    this.velocityX = 0;\n    this.velocityY = 0;\n    this.direction = 1;\n\n    const keys = [\n      { id: \"Idle\", count: 10 },\n      { id: \"Run\", count: 8 },\n      { id: \"Jump\", count: 8 },\n      { id: \"Dead\", count: 8 },\n      { id: \"Fire\", count: 4 },\n    ];\n\n    this.frameSets = {};\n\n    this.loadCount = 0;\n    this.assetCount = 38 * 2;\n    keys.forEach(({ id, count }) => {\n      for (let index = 1; index <= count; index++) {\n        const onImgLoad = (e) => {\n          this.loadCount += 1;\n\n          if (this.assetCount === this.loadCount) {\n            this.loaded = true;\n          }\n        };\n\n        const imageLeft = new Image();\n        imageLeft.onload = onImgLoad;\n        const imageRight = new Image();\n        imageRight.onload = onImgLoad;\n        imageLeft.src = `./assets/sprites/player/left/${id} (${index}).webp`;\n        imageRight.src = `./assets/sprites/player/right/${id} (${index}).webp`;\n\n        const keyLeft = `${id.toLowerCase()}Left`;\n        const keyRight = `${id.toLowerCase()}Right`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(keyLeft, imageLeft);\n        addImage(keyRight, imageRight);\n      }\n    });\n\n    this.animator = new Animator(this.frameSets[\"idleRight\"]);\n  }\n\n  reset() {\n    this.x = 40;\n    this.y = 100;\n    this.xOld = 40;\n    this.yOld = 100;\n    this.firing = false;\n    this.running = false;\n    this.jumping = false;\n    this.velocityX = 0;\n    this.velocityY = 0;\n    this.direction = 1;\n  }\n\n  jump() {\n    if (!this.jumping) {\n      this.jumping = true;\n      this.velocityY -= 18;\n    }\n  }\n\n  fire() {\n    if (!this.firing) {\n      this.firing = true;\n      setTimeout(() => {\n        this.firing = false;\n      }, 300);\n    }\n  }\n\n  moveLeft() {\n    this.direction = -1;\n    this.velocityX -= 0.5;\n  }\n  moveRight() {\n    this.direction = 1;\n    this.velocityX += 0.5;\n  }\n\n  updateAnimation({ dead = false }) {\n    if (dead) {\n      if (this.direction < 0) this.animator.changeFrameSet(this.frameSets[\"deadLeft\"], 2);\n      else this.animator.changeFrameSet(this.frameSets[\"deadRight\"], 2);\n\n      this.animator.animate(dead);\n      return;\n    }\n\n    if (this.velocityY < 0) {\n      if (this.direction < 0) {\n        this.animator.changeFrameSet(this.frameSets[\"jumpLeft\"], 2);\n      } else {\n        this.animator.changeFrameSet(this.frameSets[\"jumpRight\"], 2);\n      }\n    } else if (this.direction < 0) {\n      if (this.velocityX < -0.1) {\n        this.animator.changeFrameSet(this.frameSets[\"runLeft\"]);\n      } else {\n        if (this.firing) {\n          this.animator.changeFrameSet(this.frameSets[\"fireLeft\"], 2);\n        } else {\n          this.animator.changeFrameSet(this.frameSets[\"idleLeft\"]);\n        }\n      }\n    } else if (this.direction > 0) {\n      if (this.velocityX > 0.1) {\n        this.animator.changeFrameSet(this.frameSets[\"runRight\"]);\n      } else {\n        if (this.firing) {\n          this.animator.changeFrameSet(this.frameSets[\"fireRight\"], 2);\n        } else {\n          this.animator.changeFrameSet(this.frameSets[\"idleRight\"]);\n        }\n      }\n    }\n\n    this.animator.animate();\n  }\n\n  update(gravity, friction) {\n    this.xOld = this.x;\n    this.yOld = this.y;\n    this.velocityY += gravity;\n    this.x += this.velocityX;\n    this.y += this.velocityY;\n\n    this.velocityX *= friction;\n    this.velocityY *= friction;\n\n    const absVelocityX = Math.abs(this.velocityX);\n    this.running = absVelocityX === 0.435 ? false : absVelocityX >= 0.2;\n  }\n}\n","import Object from \"./object\";\n\nexport default class Portal extends Object {\n  constructor({\n    x,\n    y,\n    width,\n    height,\n    direction,\n    destinationX,\n    destinationY,\n    destinationArea,\n  }) {\n    super(x, y, width, height);\n\n    this.direction = direction;\n    this.destinationX = destinationX;\n    this.destinationY = destinationY;\n    this.destinationArea = destinationArea;\n  }\n}\n","import Object from \"./object\";\nimport Animator from \"./animator\";\n\nexport default class Water {\n  constructor(waterObjects = [], tileSize) {\n    this.items = [];\n    this.loaded = false;\n\n    const keys = [{ id: \"\", count: 17 }];\n\n    this.frameSets = {};\n\n    this.assetCount = 17;\n    this.loadCount = 0;\n    keys.forEach(({ count }) => {\n      for (let index = 1; index <= count; index++) {\n        const image = new Image();\n        image.onload = () => {\n          this.loadCount += 1;\n\n          if (count === this.loadCount) {\n            this.loaded = true;\n          }\n        };\n        image.src = `./assets/sprites/water/image ${index}.webp`;\n\n        const addImage = (k, image) => {\n          if (!this.frameSets[k]) {\n            this.frameSets[k] = [];\n          }\n          this.frameSets[k].push(image);\n        };\n\n        addImage(\"water\", image);\n      }\n    });\n\n    for (let index = 0; index < waterObjects.length; index++) {\n      const { left, top } = waterObjects[index];\n\n      this.items.push(\n        new WaterObject(left * tileSize, top * tileSize, this.frameSets[\"water\"], tileSize)\n      );\n    }\n  }\n\n  update() {\n    for (let index = 0; index < this.items.length; index++) {\n      this.items[index].updateAnimation();\n    }\n  }\n}\n\nclass WaterObject extends Object {\n  constructor(x, y, frameSet, tileSize) {\n    super(x, y, tileSize, tileSize);\n\n    this.animator = new Animator(frameSet, 3);\n  }\n\n  updateAnimation() {\n    this.animator.animate();\n  }\n}\n","import Coins from \"./coins\";\nimport Water from \"./water\";\nimport Player from \"./player\";\nimport Object from \"./object\";\nimport Portal from \"./portal\";\nimport Enemies from \"./enemies\";\nimport Collider from \"./collider\";\nimport Fireballs from \"./fireballs\";\nimport AudioController from \"../controller/audio\";\n\nexport default class World {\n  constructor(friction = 0.87, gravity = 2) {\n    this.friction = friction;\n    this.gravity = gravity;\n\n    this.rows = 12;\n    this.columns = 16;\n    this.tileSize = 16;\n\n    this.loaded = true;\n\n    this.totalCoins = 0;\n    this.totalEnemies = 0;\n    this.killedEnemies = \"\";\n    this.collectedCoins = \"\";\n    this.height = this.tileSize * this.rows;\n    this.width = this.tileSize * this.columns;\n\n    this.player = new Player();\n    this.collider = new Collider();\n    this.fireballs = new Fireballs();\n\n    this.audioController = new AudioController();\n  }\n\n  setup(data) {\n    if (this.theme !== data.theme) {\n      if (data.theme) {\n        this.playedThemeMusic = false;\n        this.audioController.load(\n          [\n            { file: \"fire\", ext: \"wav\" },\n            { file: \"coin\", ext: \"wav\" },\n            { file: \"foot\", ext: \"wav\" },\n            { file: \"jump\", ext: \"wav\" },\n            { file: \"hurt\", ext: \"wav\" },\n            { file: \"fall\", ext: \"mp3\" },\n            { file: data.theme, ext: \"mp3\" },\n          ],\n          (val) => {\n            this.loaded = val;\n          }\n        );\n\n        this.stopThemeMusic();\n        this.theme = data.theme;\n      }\n    }\n\n    this.id = data.id;\n    this.map = data.areaMap;\n    this.isPlayerDead = false;\n    this.objects = data.objectsMap;\n    this.collisonMap = data.collisonMap;\n\n    if (data.rows) {\n      this.rows = data.rows;\n      this.height = this.tileSize * this.rows;\n    }\n    if (data.columns) {\n      this.columns = data.columns;\n      this.width = this.tileSize * this.columns;\n    }\n\n    this.deathAreas = data.death.map(({ x, y, height, width }) => new Object(x, y, width, height));\n\n    this.enemies = new Enemies(data.enemies, this.tileSize, this.killedEnemies);\n\n    this.coins = new Coins(data.coins, this.tileSize, this.collectedCoins);\n\n    this.portals = data.portals.map((p) => new Portal(p));\n\n    this.water = new Water(data.water, this.tileSize);\n\n    this.fireballs.reset();\n\n    if (this.portal) {\n      this.player.setCenterX(this.portal.destinationX);\n      this.player.setCenterY(this.portal.destinationY);\n      this.player.direction = this.portal.direction;\n\n      this.portal = null;\n    }\n  }\n\n  reset() {\n    this.totalCoins = 0;\n    this.totalEnemies = 0;\n    this.killedEnemies = \"\";\n    this.collectedCoins = \"\";\n\n    this.player.reset();\n  }\n\n  playJumpSound() {\n    AudioController.play(\"jump\", \"wav\");\n  }\n\n  playFireSound() {\n    AudioController.play(\"fire\", \"wav\");\n  }\n\n  playThemeMusic() {\n    if (!this.theme) return;\n\n    this.audioController.play(this.theme, \"mp3\");\n    this.audioController.volume(this.theme, 8);\n    this.audioController.loop(this.theme);\n  }\n\n  stopThemeMusic() {\n    if (!this.theme) return;\n\n    this.audioController.stop(this.theme);\n  }\n\n  pauseThemeMusic() {\n    if (!this.theme) return;\n\n    this.audioController.pause(this.theme);\n  }\n\n  collideObject(object) {\n    if (object.getLeft() < 0 - this.player.width / 2) {\n      object.setLeft(-this.player.width / 2);\n      object.velocityX = 0;\n    } else if (object.getRight() > this.width + this.player.width / 2) {\n      object.setRight(this.width + this.player.width / 2);\n      object.velocityX = 0;\n    }\n    if (object.getTop() < 0 - this.player.height * 2.5) {\n      object.setTop(0 - this.player.height * 2.5);\n      object.velocityY = 0;\n    } else if (object.getBottom() - 1 > this.height) {\n      object.setBottom(this.height);\n      object.velocityY = 0;\n      object.jumping = false;\n    }\n\n    let bottom, left, right, top;\n\n    const setTop = () => {\n      top = this._normalizeIndex(Math.floor(object.getTop() / this.tileSize), this.rows);\n    };\n\n    const setBottom = () => {\n      bottom = this._normalizeIndex(Math.floor(object.getBottom() / this.tileSize), this.rows);\n    };\n\n    const setLeft = () => {\n      left = Math.floor(object.getLeft() / this.tileSize);\n    };\n\n    const setRight = () => {\n      right = Math.floor(object.getRight() / this.tileSize);\n    };\n\n    setTop();\n    setLeft();\n    this.collider.collide(\n      this.collisonMap[top][left],\n      object,\n      left * this.tileSize,\n      top * this.tileSize,\n      this.tileSize\n    );\n\n    setTop();\n    setRight();\n    this.collider.collide(\n      this.collisonMap[top][right],\n      object,\n      right * this.tileSize,\n      top * this.tileSize,\n      this.tileSize\n    );\n\n    setBottom();\n    setLeft();\n    this.collider.collide(\n      this.collisonMap[bottom][left],\n      object,\n      left * this.tileSize,\n      bottom * this.tileSize,\n      this.tileSize\n    );\n\n    setBottom();\n    setRight();\n    this.collider.collide(\n      this.collisonMap[bottom][right],\n      object,\n      right * this.tileSize,\n      bottom * this.tileSize,\n      this.tileSize\n    );\n  }\n\n  _normalizeIndex(index, maxIndex) {\n    if (index >= maxIndex - 1) {\n      return maxIndex - 1;\n    } else if (index < 0) {\n      return 0;\n    }\n\n    return index;\n  }\n\n  checkCollision(object1, object2, offsetX = 0, offsetY = 0) {\n    if (\n      object1.x < object2.x + object2.width + offsetX &&\n      object1.x + object1.width > object2.x - offsetX &&\n      object1.y < object2.y + object2.height + offsetY &&\n      object1.y + object1.height > object2.y - offsetY\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  get assetCount() {\n    return (\n      this.coins.assetCount +\n      this.water.assetCount +\n      this.player.assetCount +\n      this.enemies.assetCount +\n      this.fireballs.assetCount\n    );\n  }\n\n  get loadCount() {\n    return (\n      this.coins.loadCount +\n      this.water.loadCount +\n      this.player.loadCount +\n      this.enemies.loadCount +\n      this.fireballs.loadCount\n    );\n  }\n\n  isLoaded() {\n    return this.loaded && this.isAssetsLoaded();\n  }\n\n  isAssetsLoaded() {\n    return (\n      this.coins.loaded &&\n      this.water.loaded &&\n      this.player.loaded &&\n      this.enemies.loaded &&\n      this.fireballs.loaded\n    );\n  }\n\n  onPlayerDead(onGameOver, audio = \"fall\") {\n    if (!this.isPlayerDead) {\n      AudioController.play(audio, \"mp3\");\n\n      this.player.velocityX = 0;\n      this.stopThemeMusic();\n      onGameOver();\n    }\n    this.isPlayerDead = true;\n    this.collectedCoins = \"\";\n    this.killedEnemies = \"\";\n    this.theme = null;\n  }\n\n  update(onGameOver) {\n    AudioController.animate(() => {\n      AudioController.play(\"foot\", \"wav\", 0.15);\n    }, this.player.running);\n\n    if (!this.playedThemeMusic) {\n      if (this.isLoaded()) {\n        this.playThemeMusic();\n        this.playedThemeMusic = true;\n      }\n    }\n\n    this.player.update(this.gravity, this.friction);\n\n    this.collideObject(this.player);\n\n    // coins\n    for (let index = 0; index < this.coins.items.length; index++) {\n      const coin = this.coins.items[index];\n\n      coin.update();\n      coin.updateAnimation();\n\n      if (this.checkCollision(this.player, coin, 5, 5)) {\n        this.coins.remove(coin);\n\n        this.collectedCoins += `${coin.id},`;\n\n        AudioController.play(\"coin\");\n        this.totalCoins += 1;\n      }\n    }\n\n    // fireballs\n    for (let index = 0; index < this.fireballs.items.length; index++) {\n      const fireball = this.fireballs.items[index];\n\n      fireball.update();\n      fireball.updateAnimation(this.player);\n\n      for (let j = 0; j < this.enemies.items.length; j++) {\n        const enemy = this.enemies.items[j];\n\n        if (this.checkCollision(enemy, fireball)) {\n          this.enemies.remove(enemy);\n\n          this.killedEnemies += `${enemy.id},`;\n          this.totalEnemies += 1;\n\n          AudioController.play(\"hurt\");\n        }\n      }\n\n      if (fireball.x >= this.width + 50) {\n        this.fireballs.remove(fireball);\n      }\n    }\n\n    if (!this.isPlayerDead) {\n      for (let index = 0; index < this.deathAreas.length; index++) {\n        if (this.checkCollision(this.player, this.deathAreas[index])) {\n          this.onPlayerDead(onGameOver);\n          break;\n        }\n      }\n    }\n\n    // enemies\n    if (!this.isPlayerDead) {\n      for (let index = 0; index < this.enemies.items.length; index++) {\n        const enemy = this.enemies.items[index];\n\n        if (this.checkCollision(this.player, enemy)) {\n          this.onPlayerDead(onGameOver);\n          break;\n        }\n\n        enemy.update();\n        enemy.updateAnimation();\n      }\n    }\n\n    if (!this.portal) {\n      for (let index = 0; index < this.portals.length; index++) {\n        if (this.checkCollision(this.player, this.portals[index])) {\n          this.portal = this.portals[index];\n          break;\n        }\n      }\n    }\n\n    this.player.updateAnimation({ dead: this.isPlayerDead });\n\n    this.water.update();\n  }\n}\n","import Game from \"./game\";\nimport Screen from \"./screen\";\nimport GameEngine from \"./engine\";\nimport Controller from \"./controller\";\nimport MouseInput from \"./controller/mouse-input\";\n\nimport {\n  uid,\n  getData,\n  setData,\n  populateHelp,\n  populateLinks,\n  populatePortals,\n  preLoadAndFetch,\n} from \"./util\";\n\npreLoadAndFetch();\npopulateLinks();\npopulateHelp();\n\nimport areas from \"./areas\";\n\nlet loadingActive = false;\nlet controllerActive = false;\nconst isTouchesEnabled = \"ontouchstart\" in document.documentElement;\n\nconst helpBtn = document.getElementById(\"helpBtn\");\nconst infoBtn = document.getElementById(\"infoBtn\");\nconst startBtn = document.getElementById(\"startBtn\");\nconst pauseBtn = document.getElementById(\"pauseBtn\");\nconst soundBtn = document.getElementById(\"soundBtn\");\nconst musicBtn = document.getElementById(\"musicBtn\");\nconst portalBtn = document.getElementById(\"portalBtn\");\nconst helpScreen = document.getElementById(\"helpScreen\");\nconst helpCloseBtn = document.getElementById(\"helpCloseBtn\");\nconst portalScreen = document.getElementById(\"portalScreen\");\nconst portalCloseBtn = document.getElementById(\"portalCloseBtn\");\nconst infoScreen = document.getElementById(\"infoScreen\");\nconst infoCloseBtn = document.getElementById(\"infoCloseBtn\");\nconst refreshBtn = document.getElementById(\"refreshBtn\");\nconst startTitle = document.getElementById(\"startTitle\");\nconst scoreTitle = document.getElementById(\"scoreTitle\");\nconst startScreen = document.getElementById(\"startScreen\");\nconst controllers = document.querySelectorAll(\".controller\");\nconst loadingScreen = document.getElementById(\"loadingScreen\");\nconst progressValue = document.getElementById(\"progressValue\");\nconst persistentControllers = document.querySelectorAll(\".persistent-controller\");\n\nconst toggleSoundBtn = (value) => {\n  soundBtn.classList[value ? \"add\" : \"remove\"](\"cancel-cross\");\n};\n\nconst toggleMusicBtn = (value) => {\n  musicBtn.classList[value ? \"add\" : \"remove\"](\"cancel-cross\");\n};\n\nconst toggleControllers = (value) => {\n  controllerActive = value;\n  controllers.forEach(\n    (controller) => (controller.style.visibility = isTouchesEnabled && value ? \"visible\" : \"hidden\")\n  );\n  persistentControllers.forEach(\n    (controller) => (controller.style.visibility = value ? \"visible\" : \"hidden\")\n  );\n};\n\nconst togglePortalScreen = (value) => {\n  portalScreen.style.visibility = !value ? \"hidden\" : \"visible\";\n};\n\nconst toggleHelpScreen = (value) => {\n  helpScreen.style.visibility = !value ? \"hidden\" : \"visible\";\n};\n\nconst toggleInfoScreen = (value) => {\n  infoScreen.style.visibility = !value ? \"hidden\" : \"visible\";\n};\n\nconst toggleStartScreen = (value) => {\n  startScreen.style.visibility = !value ? \"hidden\" : \"visible\";\n};\n\nconst toggleLoadingScreen = (value) => {\n  loadingActive = value;\n  loadingScreen.style.visibility = !value ? \"hidden\" : \"visible\";\n};\n\nconst setProgressValue = (value) => {\n  progressValue.style.width = `${value}%`;\n};\n\nwindow.addEventListener(\"load\", function () {\n  \"use strict\";\n\n  let areaId = 1;\n  let loaded = false;\n  let paused = false;\n  let areaNumber = 1;\n  let worldChanged = false;\n  const totalAreaNumber = 5;\n\n  toggleSoundBtn(getData(\"mute_sounds\"));\n  toggleMusicBtn(getData(\"mute_music\"));\n  clearInterval(loadInterval);\n  toggleLoadingScreen(false);\n  setProgressValue(0);\n\n  const controller = new Controller();\n\n  // GAME\n  const game = new Game((score) => {\n    startTitle.textContent = \"Game Over\";\n    scoreTitle.textContent = \"Score: \" + score;\n\n    const savedScore = getData(\"high_score\") || 0;\n    const highScore = savedScore < score ? score : savedScore;\n    setData(\"high_score\", savedScore < score ? score : savedScore);\n\n    if (highScore) {\n      document.getElementById(\"highScore\").innerHTML = `High Score: ${highScore}`;\n    }\n\n    setTimeout(() => {\n      toggleStartScreen(true);\n    }, 1500);\n  });\n\n  const setupWorld = () => {\n    game.world.setup(areas[areaId]);\n  };\n\n  // SCREEN\n  let screen;\n\n  const setupScreen = () => {\n    screen = new Screen(document.querySelector(\"canvas\"), areas[areaId].world);\n\n    screen.buffer.canvas.height = game.world.height;\n    screen.buffer.canvas.width = game.world.width;\n  };\n\n  setupScreen();\n\n  // GAME ENGINE\n\n  const loadPercent = () => {\n    const totalAssets = (worldChanged ? 0 : game.world.assetCount) + screen.assetCount;\n    const totalLoaded = (worldChanged ? 0 : game.world.loadCount) + screen.loadCount;\n\n    return Math.round((totalLoaded / totalAssets) * 100);\n  };\n\n  const isLoaded = () => {\n    return game.isLoaded() && screen.isLoaded();\n  };\n\n  // update game logic\n  const update = () => {\n    loaded = isLoaded();\n    const loadValue = loadPercent();\n\n    const { player, portal } = game.world;\n\n    if (loadValue < 100) {\n      setProgressValue(loadValue == 99 ? 100 : loadValue);\n    }\n\n    if (!loaded) {\n      if (controllerActive) {\n        toggleControllers(false);\n      }\n      if (!loadingActive) {\n        toggleLoadingScreen(true);\n      }\n    } else {\n      if (loadingActive) {\n        toggleLoadingScreen(false);\n        setProgressValue(0);\n      }\n      if (!controllerActive) {\n        toggleControllers(true);\n      }\n    }\n\n    if (!game.over && loaded && !paused) {\n      if (controller.left.active) {\n        player.moveLeft();\n      }\n      if (controller.right.active) {\n        player.moveRight();\n      }\n      if (controller.up.active) {\n        if (!player.jumping) {\n          game.world.playJumpSound();\n        }\n        player.jump();\n        controller.up.active = false;\n      }\n      if (controller.fire.active && !player.firing) {\n        const { fireballs } = game.world;\n        const offsetX = player.direction < 0 ? -32 : 8;\n\n        player.fire();\n        game.world.playFireSound();\n        fireballs.add(uid(), player.x + offsetX, player.y - 16, player.direction);\n        controller.fire.active = false;\n      }\n    }\n\n    if (portal) {\n      worldChanged = true;\n      engine.hold();\n\n      const { direction, destinationArea } = portal;\n      if (destinationArea !== areaId) {\n        if (direction < 0) {\n          areaNumber--;\n        } else {\n          areaNumber++;\n        }\n\n        if (areaNumber >= totalAreaNumber) {\n          areaNumber = 1;\n        }\n        if (areaNumber <= 0) {\n          areaNumber = totalAreaNumber;\n        }\n      }\n\n      areaId = destinationArea;\n\n      setupWorld();\n      setupScreen();\n\n      engine.resume();\n    }\n\n    game.update();\n  };\n\n  // render assets\n  const render = () => {\n    screen.drawBackground();\n\n    const {\n      map,\n      coins,\n      water,\n      player,\n      columns,\n      objects,\n      enemies,\n      fireballs,\n      totalCoins,\n      totalEnemies,\n    } = game.world;\n\n    // draw water animations\n    if (water) {\n      for (let index = 0; index < water.items.length; index++) {\n        const waterItem = water.items[index];\n\n        screen.drawObject(\n          waterItem.animator.frameValue,\n          waterItem.x,\n          waterItem.y,\n          waterItem.width,\n          waterItem.height,\n          waterItem.offsetX,\n          waterItem.offsetY\n        );\n      }\n    }\n\n    screen.drawMap(map);\n    screen.drawMapObjects(objects);\n    // screen.drawArea(game.world.portals);\n    // screen.drawArea(game.world.deathAreas);\n    // screen.drawArea(game.world.enemies.items);\n\n    // draw coins\n    if (coins) {\n      for (let index = 0; index < coins.items.length; index++) {\n        const coin = coins.items[index];\n\n        screen.drawObject(\n          coin.animator.frameValue,\n          coin.x,\n          coin.y,\n          coin.width,\n          coin.height,\n          coin.offsetX,\n          coin.offsetY\n        );\n        // screen.drawText(coin.id, coin.x, coin.y);\n        // screen.drawRect(coin);\n      }\n    }\n\n    // draw fireballs\n    if (fireballs) {\n      for (let index = 0; index < fireballs.items.length; index++) {\n        const fireball = fireballs.items[index];\n\n        screen.drawObject(\n          fireball.animator.frameValue,\n          fireball.x,\n          fireball.y,\n          fireball.width,\n          fireball.height\n        );\n      }\n    }\n\n    // draw enemies\n    if (enemies) {\n      for (let index = 0; index < enemies.items.length; index++) {\n        const enemy = enemies.items[index];\n\n        screen.drawObject(\n          enemy.animator.frameValue,\n          enemy.x,\n          enemy.y,\n          enemy.width,\n          enemy.height,\n          0,\n          1\n        );\n      }\n    }\n\n    // draw player\n    const dead = game.world.isPlayerDead;\n    const deadOffset = dead ? (player.direction < 0 ? 12 : -12) : 0;\n    const xOffset = player.direction < 0 ? -36 + deadOffset : -12 + deadOffset;\n    screen.drawPlayer(\n      player.animator.frameValue,\n      player.getLeft(),\n      player.getTop(),\n      60,\n      40,\n      xOffset,\n      -24\n    );\n\n    // draw coin count\n    const image = new Image();\n    image.src = \"./assets/sprites/coin/image 1.webp\";\n    const coinTextOffest = totalCoins >= 10 && totalCoins <= 99 ? 3 : totalCoins > 99 ? 3.4 : 2.7;\n\n    screen.drawObject(image, (columns - 1.3) * 16, 8, 10, 10);\n    screen.drawText(\"x\", (columns - 2) * 16, 15);\n    screen.drawText(totalCoins, (columns - coinTextOffest) * 16, 16.1);\n\n    screen.drawText(areaNumber, 48, 15.3);\n    screen.drawText(\"Area\", 12, 15.3);\n    screen.drawText(\"x\", 38, 15);\n\n    const score = totalEnemies * 100 + totalCoins * 20;\n    const scoreTextOffest = score >= score >= 10 && score <= 99 ? 3 : score > 99 ? 3.4 : 2.7;\n    screen.drawText(score, (columns - scoreTextOffest) * 9, 15.3);\n\n    screen.render();\n  };\n\n  const resize = () => {\n    let width = document.documentElement.clientWidth;\n    let height = document.documentElement.clientHeight;\n\n    if (width < 600) {\n      [width, height] = [height, width];\n    }\n\n    screen.resize(width - 4, height - 4, game.world.height / game.world.width);\n    screen.render();\n  };\n\n  resize();\n\n  var engine = new GameEngine(1000 / 30, update, render);\n\n  // EVENTS HANDLER\n  const keyDownUp = ({ type, keyCode }) => {\n    controller.keyDownUp(type, keyCode);\n  };\n\n  window.addEventListener(\"keydown\", keyDownUp);\n  window.addEventListener(\"keyup\", keyDownUp);\n  window.addEventListener(\"resize\", resize);\n\n  const leftMouse = new MouseInput(\"leftBtn\", (e) => {\n    clearMouse();\n    controller.keyDownUp(e, 37);\n  });\n  const rightMouse = new MouseInput(\"rightBtn\", (e) => {\n    clearMouse();\n    controller.keyDownUp(e, 39);\n  });\n  const upMouse = new MouseInput(\"jumpBtn\", (e) => {\n    clearMouse();\n    controller.keyDownUp(e, 32);\n  });\n\n  const fireMouse = new MouseInput(\"fireBtn\", (e) => {\n    clearMouse();\n    controller.keyDownUp(e, 13);\n  });\n\n  const clearMouse = () => {\n    upMouse.actions.clear();\n    fireMouse.actions.clear();\n    leftMouse.actions.clear();\n    rightMouse.actions.clear();\n  };\n\n  const loadWorld = (id = 1, areaNum = 1, left = 40, top = 100, refresh = false) => {\n    clearMouse();\n    startTitle.textContent = \"\";\n    scoreTitle.textContent = \"\";\n    toggleStartScreen(false);\n\n    const start = () => {\n      game.world.reset();\n      game.over = false;\n\n      engine.hold();\n\n      game.world.player.setLeft(left);\n      game.world.player.setTop(top);\n\n      areaId = id;\n      areaNumber = areaNum;\n\n      setupWorld();\n      setupScreen();\n\n      resize();\n\n      engine.resume();\n    };\n\n    if (paused) {\n      paused = false;\n\n      game.world.playThemeMusic();\n      startBtn.textContent = \"play\";\n\n      if (refresh) {\n        start();\n      }\n    } else {\n      start();\n    }\n\n    if (!engine.started) {\n      engine.start();\n    }\n  };\n\n  const onPortalClick = ({ id, areaNum, left, top }) => {\n    togglePortalScreen(false);\n    loadWorld(id, areaNum, left, top, true);\n  };\n\n  populatePortals(onPortalClick);\n\n  startBtn.onclick = () => {\n    loadWorld();\n  };\n\n  pauseBtn.onclick = () => {\n    clearMouse();\n    toggleStartScreen(true);\n\n    game.world.pauseThemeMusic();\n    startBtn.textContent = \"resume\";\n\n    paused = true;\n  };\n\n  refreshBtn.onclick = () => {\n    areaNumber = 1;\n    startBtn.click();\n  };\n\n  soundBtn.onclick = () => {\n    const isMuted = !getData(\"mute_sounds\");\n\n    setData(\"mute_sounds\", isMuted);\n    toggleSoundBtn(isMuted);\n  };\n\n  musicBtn.onclick = () => {\n    const isMuted = !getData(\"mute_music\");\n\n    setData(\"mute_music\", isMuted);\n    toggleMusicBtn(isMuted);\n  };\n\n  portalBtn.onclick = () => {\n    togglePortalScreen(true);\n  };\n\n  helpBtn.onclick = () => {\n    toggleHelpScreen(true);\n  };\n\n  helpCloseBtn.onclick = () => {\n    toggleHelpScreen(false);\n  };\n\n  portalCloseBtn.onclick = () => {\n    togglePortalScreen(false);\n  };\n\n  infoBtn.onclick = () => {\n    toggleInfoScreen(true);\n  };\n\n  infoCloseBtn.onclick = () => {\n    toggleInfoScreen(false);\n  };\n\n  document.addEventListener(\"visibilitychange\", function () {\n    if (document.visibilityState === \"visible\") {\n      if (!paused) {\n        game.world.playThemeMusic();\n      }\n    } else {\n      game.world.pauseThemeMusic();\n    }\n  });\n\n  // startBtn.click();\n});\n","import TileSet from \"./tileset\";\n\nexport default class Screen {\n  constructor(canvas, world) {\n    this.buffer = document.createElement(\"canvas\").getContext(\"2d\");\n    this.context = canvas.getContext(\"2d\");\n\n    this.tileSet = new TileSet(16, 8, world);\n  }\n\n  drawMap(map) {\n    const { images, tileSize } = this.tileSet;\n\n    const drawTile = (x, y, value) => {\n      const image = images[value];\n\n      let destinationX = x * tileSize;\n      let destinationY = y * tileSize;\n\n      this.buffer.drawImage(image, destinationX, destinationY, tileSize, tileSize);\n    };\n\n    for (let i = 0; i < map.length; i++) {\n      const row = map[i];\n      for (let j = 0; j < row.length; j++) {\n        const value = row[j];\n\n        if (value) {\n          if (Array.isArray(value)) {\n            for (let index = 0; index < value.length; index++) {\n              drawTile(j, i, value[index]);\n            }\n          } else {\n            drawTile(j, i, value);\n          }\n        }\n      }\n    }\n  }\n\n  drawArea(object) {\n    for (let index = 0; index < object.length; index++) {\n      const { x, y, width, height } = object[index];\n      this.buffer.fillRect(x, y, width, height);\n    }\n  }\n\n  drawMapObjects(objects) {\n    const { objectImages, tileSize } = this.tileSet;\n\n    for (let i = 0; i < objects.length; i++) {\n      const row = objects[i];\n      for (let j = 0; j < row.length; j++) {\n        const value = row[j];\n\n        if (value) {\n          value.forEach((element) => {\n            const { id, xOffset = 0, yOffset = 0, width = 16, height = 16 } = element;\n            const image = objectImages[id];\n\n            let destinationX = j * tileSize;\n            let destinationY = i * tileSize;\n\n            this.buffer.drawImage(\n              image,\n              destinationX + xOffset,\n              destinationY + yOffset,\n              width,\n              height\n            );\n          });\n        }\n      }\n    }\n  }\n\n  drawBackground() {\n    this.buffer.drawImage(\n      this.tileSet.tileBackground,\n      0,\n      0,\n      this.buffer.canvas.width,\n      this.buffer.canvas.height\n    );\n  }\n\n  drawText(text, x, y, color = \"black\") {\n    this.buffer.fillStyle = color;\n    this.buffer.font = \"10px Arial\";\n    this.buffer.fillText(text, x, y);\n  }\n\n  drawPlayer(image, destinationX, destinationY, width, height, offsetX, offsetY, rect) {\n    this.drawObject(image, destinationX + offsetX, destinationY + offsetY + 1, width, height);\n  }\n\n  drawObject(image, destinationX, destinationY, width, height, offsetX = 0, offsetY = 0) {\n    this.buffer.drawImage(image, destinationX + offsetX, destinationY + offsetY, width, height);\n  }\n\n  drawRect({ x, y, width, height }) {\n    this.buffer.fillRect(x, y, width, height);\n  }\n\n  get assetCount() {\n    return this.tileSet.assetCount;\n  }\n\n  get loadCount() {\n    return this.tileSet.loadCount;\n  }\n\n  isLoaded() {\n    return this.tileSet.loaded;\n  }\n\n  resize(width, height, ratio) {\n    if (height / width > ratio) {\n      this.context.canvas.height = width * ratio;\n      this.context.canvas.width = width;\n    } else {\n      this.context.canvas.height = height;\n      this.context.canvas.width = height / ratio;\n    }\n\n    this.context.webkitImageSmoothingEnabled = false;\n    this.context.mozImageSmoothingEnabled = false;\n    this.context.imageSmoothingEnabled = false;\n  }\n\n  render() {\n    this.context.drawImage(\n      this.buffer.canvas,\n      0,\n      0,\n      this.buffer.canvas.width,\n      this.buffer.canvas.height,\n      0,\n      0,\n      this.context.canvas.width,\n      this.context.canvas.height\n    );\n  }\n}\n","export default class TileSet {\n  constructor(tileSize, columns, world = 1) {\n    const worldKey = `world-${world}`;\n    this.loaded = false;\n    this.columns = columns;\n    this.tileSize = tileSize;\n\n    this.images = [];\n    this.images.push(null);\n\n    this.objectImages = [];\n    this.objectImages.push(null);\n\n    this.tileBackground = new Image();\n\n    const meta = {\n      1: { objectLen: 11, tileLen: 18 },\n      2: { objectLen: 10, tileLen: 18 },\n      3: { objectLen: 15, tileLen: 16 },\n      4: { objectLen: 14, tileLen: 16 },\n      5: { objectLen: 12, tileLen: 25 },\n    };\n\n    this.loadCount = 0;\n    this.assetCount = meta[world].objectLen + meta[world].tileLen + 1;\n    const onImgLoad = (e) => {\n      this.loadCount += 1;\n\n      if (this.assetCount === this.loadCount) {\n        this.loaded = true;\n      }\n    };\n\n    for (let index = 1; index <= meta[world].objectLen; index++) {\n      const image = new Image();\n      image.onload = onImgLoad;\n      image.src = `./assets/sprites/${worldKey}/objects/${index}.png`;\n\n      this.objectImages.push(image);\n    }\n\n    for (let index = 1; index <= meta[world].tileLen; index++) {\n      const image = new Image();\n      image.onload = onImgLoad;\n      image.src = `./assets/sprites/${worldKey}/tiles/${index}.png`;\n\n      this.images.push(image);\n    }\n\n    this.tileBackground.src = `./assets/sprites/${worldKey}/bg.png`;\n    this.tileBackground.onload = onImgLoad;\n  }\n}\n","export const uid = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substring(2);\n};\n\nexport const setData = (key, value) => {\n  return localStorage.setItem(key, JSON.stringify(value));\n};\n\nexport const getData = (key) => {\n  return JSON.parse(localStorage.getItem(key));\n};\n\nexport const preLoadAndFetch = () => {\n  const items = {\n    sprites: [\n      { rel: \"prefetch\", key: \"world-1\", objects: 11, tiles: 18 },\n      { rel: \"prefetch\", key: \"world-2\", objects: 10, tiles: 18 },\n      { rel: \"prefetch\", key: \"world-3\", objects: 15, tiles: 16 },\n      { rel: \"prefetch\", key: \"world-4\", objects: 14, tiles: 16 },\n      { rel: \"prefetch\", key: \"world-5\", objects: 12, tiles: 25 },\n    ],\n    player: [\n      { rel: \"prefetch\", key: \"Dead\", objects: 8 },\n      { rel: \"prefetch\", key: \"Idle\", objects: 10 },\n      { rel: \"prefetch\", key: \"Jump\", objects: 8 },\n      { rel: \"prefetch\", key: \"Run\", objects: 8 },\n    ],\n    water: [{ rel: \"prefetch\", objects: 17 }],\n    coin: [{ rel: \"prefetch\", objects: 16 }],\n  };\n\n  const body = document.getElementsByTagName(\"head\")[0];\n\n  const append = (href, rel, as = \"image\") => {\n    const item = document.createElement(\"link\");\n\n    item.as = as;\n    item.rel = rel;\n    item.href = href;\n    body.prepend(item);\n  };\n\n  items.sprites.forEach(({ rel, key, objects, tiles }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/${key}/objects/${index}.png`, rel);\n    }\n    for (let index = 1; index <= tiles; index++) {\n      append(`./assets/sprites/${key}/tiles/${index}.png`, rel);\n    }\n\n    append(`./assets/sprites/${key}/bg.png`, rel);\n  });\n\n  items.player.forEach(({ rel, key, objects }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/player/left/${key} (${index}).webp`, rel);\n      append(`./assets/sprites/player/right/${key} (${index}).webp`, rel);\n    }\n  });\n\n  items.water.forEach(({ rel, objects }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/water/image ${index}.webp`, rel);\n    }\n  });\n\n  items.coin.forEach(({ rel, objects }) => {\n    for (let index = 1; index <= objects; index++) {\n      append(`./assets/sprites/coin/image ${index}.webp`, rel);\n    }\n  });\n\n  const audioFiles = [\n    { rel: \"preload\", file: \"grasslands\" },\n    { rel: \"preload\", file: \"coin\", ext: \"wav\" },\n    { rel: \"preload\", file: \"jump\", ext: \"wav\" },\n    { rel: \"preload\", file: \"fall\", ext: \"mp3\" },\n    { rel: \"preload\", file: \"iceland\" },\n    { rel: \"preload\", file: \"desert\" },\n    { rel: \"preload\", file: \"dungeon\" },\n  ];\n\n  audioFiles.forEach(({ rel, file, ext = \"mp3\" }) => {\n    if (rel === \"preload\") {\n      const audio = new Audio();\n      audio.url = `./assets/audio/${file}.${ext}`;\n    } else {\n      append(`./assets/audio/${file}.${ext}`, rel, \"audio\");\n    }\n  });\n};\n\nexport const populatePortals = (onPortalClick) => {\n  const data = [\n    { name: \"Grassland 1\", id: 1, areaNum: 1, left: 40, top: 100, ss: \"images/area_1.png\" },\n    { name: \"Grassland 2\", id: 2, areaNum: 2, left: 40, top: 100, ss: \"images/area_2.png\" },\n    { name: \"Grassland 3\", id: 7, areaNum: 3, left: 40, top: 120, ss: \"images/area_3.png\" },\n    { name: \"Iceland 1\", id: 3, areaNum: 4, left: 48, top: 100, ss: \"images/area_4.png\" },\n    { name: \"Iceland 2\", id: 8, areaNum: 5, left: 32, top: 20, ss: \"images/area_5.png\" },\n  ];\n\n  const portalsWrapper = document.getElementById(\"portalsWrapper\");\n  portalsWrapper.className += \"modal-content-wrapper\";\n\n  const itemWrapper = document.createElement(\"div\");\n  itemWrapper.classList.add(\"portal-item-wrapper\");\n\n  data.forEach((value) => {\n    const { name, ss } = value;\n\n    const div = document.createElement(\"div\");\n    div.className += \"portal-item\";\n\n    const title = document.createElement(\"div\");\n    title.className += \"portal-title\";\n    title.textContent = name;\n\n    const overlay = document.createElement(\"div\");\n    overlay.className += \"portal-overlay\";\n\n    const img = document.createElement(\"img\");\n    img.src = ss;\n    img.className += \"portal-item portal-img\";\n    img.addEventListener(\"click\", () => onPortalClick(value));\n\n    div.appendChild(img);\n    div.appendChild(overlay);\n    div.appendChild(title);\n    itemWrapper.appendChild(div);\n  });\n\n  portalsWrapper.appendChild(itemWrapper);\n};\n\nexport const populateLinks = () => {\n  const links = [\n    {\n      className: \"btn gh-btn social-btn btn-tut\",\n      style: \"margin-left: 0px\",\n      link: \"https://github.com/AKAspanion\",\n    },\n    {\n      className: \"btn li-btn social-btn btn-tut\",\n      style: \"\",\n      link: \"https://www.linkedin.com/in/spanion/\",\n    },\n    {\n      className: \"btn in-btn social-btn btn-tut\",\n      style: \"\",\n      link: \"https://www.instagram.com/spanionkumar/\",\n    },\n    {\n      className: \"btn fb-btn social-btn btn-tut\",\n      style: \"\",\n      link: \"https://www.facebook.com/AKAspanion/\",\n    },\n  ];\n\n  const linksWrapper = document.getElementById(\"linksWrapper\");\n  linksWrapper.className += \"flex-item\";\n\n  links.forEach(({ link, style, className }) => {\n    const a = document.createElement(\"a\");\n    a.className += className;\n    a.target = \"_blank\";\n    a.style = style;\n    a.href = link;\n\n    linksWrapper.appendChild(a);\n  });\n};\n\nexport const populateHelp = () => {\n  const helpItems = [\n    {\n      name: \"Mobile\",\n      content: [\n        {\n          items: [\n            { className: \"btn left-btn btn-tut\", text: \"to run left\" },\n            { className: \"btn right-btn btn-tut\", text: \"to run right\", notap: true },\n          ],\n        },\n        {\n          items: [\n            { className: \"btn fire-btn btn-tut flex-item\", text: \"to spit fire\", child: \"⚪️\" },\n          ],\n        },\n        {\n          items: [{ className: \"btn jump-btn btn-tut\", text: \"to jump\" }],\n        },\n      ],\n    },\n    {\n      name: \"Desktop\",\n      content: [\n        {\n          items: [\n            { className: \"btn left-key-btn btn-tut key-btn\", text: \"to run left\" },\n            { className: \"btn right-key-btn btn-tut key-btn\", text: \"to run right\", notap: true },\n          ],\n        },\n        {\n          items: [\n            { className: \"btn fire-key-btn btn-tut flex-item key-btn\", text: \"to spit fire\" },\n          ],\n        },\n        {\n          items: [{ className: \"btn jump-key-btn btn-tut key-btn\", text: \"to jump\" }],\n        },\n      ],\n    },\n  ];\n\n  const helpWrapper = document.getElementById(\"helpWrapper\");\n  helpWrapper.className += \"modal-content-wrapper\";\n\n  helpItems.forEach(({ name, content }) => {\n    const modalContent = document.createElement(\"div\");\n    modalContent.className += \"flex-item modal-content\";\n\n    const modalhead = document.createElement(\"div\");\n    modalhead.className += \"modal-content-head\";\n    modalhead.textContent = name;\n\n    const modalContentDesc = document.createElement(\"div\");\n    modalContentDesc.className += \"flex-item modal-content-desc\";\n\n    content.forEach(({ items }) => {\n      const flexItem = document.createElement(\"div\");\n      flexItem.className += \"flex-item\";\n\n      items.forEach(({ className, text, child, notap }) => {\n        if (!notap) {\n          flexItem.innerHTML += \"Tap\";\n        }\n\n        const btn = document.createElement(\"div\");\n        btn.className = className;\n\n        if (child) {\n          btn.textContent = child;\n        }\n\n        flexItem.appendChild(btn);\n\n        flexItem.innerHTML += text;\n      });\n\n      modalContentDesc.appendChild(flexItem);\n    });\n\n    modalContent.appendChild(modalhead);\n    modalContent.appendChild(modalContentDesc);\n\n    helpWrapper.appendChild(modalContent);\n  });\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./app/index.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}