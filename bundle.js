/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={"./app/areas/area-1.json":t=>{t.exports=JSON.parse('{"id":1,"world":2,"death":[{"x":64,"y":170,"height":32,"width":32},{"x":224,"y":170,"height":32,"width":32}],"portals":[{"x":-8,"y":0,"height":32,"width":8,"direction":-1,"destinationArea":2,"destinationX":250,"destinationY":42},{"x":256,"y":0,"height":48,"width":8,"direction":1,"destinationArea":2,"destinationX":6,"destinationY":24}],"areaMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,2,2,3,0,0,0,0,0,13,15,0,0,0,0,0],[9,9,9,16,0,0,0,0,0,0,0,0,0,1,2,2],[0,0,0,0,0,0,13,15,0,0,0,0,0,4,5,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,12,9,9],[0,0,0,13,14,15,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,2,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,5,6,0,0,0,0,0,0],[2,3,0,0,0,0,1,2,2,2,2,3,0,0,0,0],[2,2,2,3,17,17,4,5,5,5,5,10,2,3,17,17],[5,5,5,6,18,18,4,5,5,5,5,5,5,6,18,18]],"collisonMap":[["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["t","t","t","tr","","","","","","t","t","","","","",""],["","","","","r","","","","","","","","","lt","t","t"],["","","","","r","","t","t","","","","","","l","",""],["","","","","","","","","","","","","","l","",""],["","","","t","t","t","","","","","","","","","",""],["","","","","","","","t","t","t","","","","","",""],["","","","","","","","","","","","","","","",""],["t","t","","","","","tl","t","t","t","t","tr","","","",""],["tb","tb","tb","tr","","","l","","","","","","t","tr","",""],["","","","rt","lb","rb","l","","","","","","","r","",""]],"objectsMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[[{"id":9,"xOffset":18,"yOffset":4,"width":12,"height":12},{"id":1,"xOffset":0,"yOffset":-16,"width":32,"height":32}],[{"id":8,"xOffset":-16,"yOffset":0,"width":16,"height":16},{"id":4,"xOffset":0,"yOffset":12,"width":12,"height":5}],[{"id":10,"xOffset":0,"yOffset":8,"width":8,"height":8},{"id":10,"xOffset":8,"yOffset":12,"width":6,"height":4}],0,0,0,0,0,0,[{"id":8,"xOffset":4,"yOffset":4,"width":12,"height":12}],[{"id":9,"xOffset":0,"yOffset":6,"width":10,"height":10},{"id":10,"xOffset":-3,"yOffset":12,"width":4,"height":4}],0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,[{"id":6,"xOffset":10,"yOffset":2,"width":16,"height":16}],0],[0,0,0,0,0,0,[{"id":1,"xOffset":0,"yOffset":-16,"width":32,"height":32},{"id":9,"xOffset":18,"yOffset":6,"width":10,"height":10},{"id":8,"xOffset":4,"yOffset":2,"width":14,"height":14}],0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,[{"id":7,"xOffset":-4,"yOffset":4,"width":12,"height":12}],[{"id":7,"xOffset":-8,"yOffset":4,"width":12,"height":12},{"id":7,"xOffset":-14,"yOffset":-8,"width":12,"height":12}],0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,[{"id":3,"xOffset":-6,"yOffset":-8,"width":22,"height":24}],0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[[{"id":5,"xOffset":3,"yOffset":2,"width":16,"height":16}],0,0,0,0,0,[{"id":4,"xOffset":8,"yOffset":10,"width":12,"height":6}],0,0,[{"id":2,"xOffset":5,"yOffset":-24,"width":40,"height":40}],[{"id":1,"xOffset":-20,"yOffset":-14,"width":30,"height":30},{"id":9,"xOffset":-6,"yOffset":4,"width":12,"height":12}],0,0,0,0,0],[0,0,[{"id":1,"xOffset":14,"yOffset":-6,"width":22,"height":22},{"id":1,"xOffset":-8,"yOffset":-12,"width":28,"height":28},{"id":2,"xOffset":0,"yOffset":-16,"width":32,"height":32}],0,0,0,0,0,0,0,0,0,[{"id":7,"xOffset":2,"yOffset":4,"width":12,"height":12},{"id":1,"xOffset":2,"yOffset":-16,"width":32,"height":32}],[{"id":9,"xOffset":-9,"yOffset":4,"width":12,"height":12},{"id":8,"xOffset":4,"yOffset":6,"width":10,"height":10}],0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}')},"./app/areas/area-2.json":t=>{t.exports=JSON.parse('{"id":2,"world":1,"death":[{"x":64,"y":170,"height":32,"width":32},{"x":224,"y":170,"height":32,"width":32}],"portals":[{"x":-8,"y":0,"height":32,"width":8,"direction":-1,"destinationArea":3,"destinationX":250,"destinationY":24},{"x":256,"y":0,"height":48,"width":8,"direction":1,"destinationArea":3,"destinationX":16,"destinationY":24}],"areaMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,2,2,3,0,0,0,0,0,13,15,0,0,0,0,0],[9,9,9,16,0,0,0,0,0,0,0,0,0,1,2,2],[0,0,0,0,0,0,13,15,0,0,0,0,0,4,5,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,12,9,9],[0,0,0,13,14,15,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,2,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,5,6,0,0,0,0,0,0],[2,3,0,0,0,0,1,2,2,2,2,3,0,0,0,0],[2,2,2,3,17,17,4,5,5,5,5,10,2,3,17,17],[5,5,5,6,18,18,4,5,5,5,5,5,5,6,18,18]],"collisonMap":[["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["t","t","t","tr","","","","","","t","t","","","","",""],["","","","","r","","","","","","","","","lt","t","t"],["","","","","r","","t","t","","","","","","l","",""],["","","","","","","","","","","","","","l","",""],["","","","t","t","t","","","","","","","","","",""],["","","","","","","","t","t","t","","","","","",""],["","","","","","","","","","","","","","","",""],["t","t","","","","","tl","t","t","t","t","tr","","","",""],["tb","tb","tb","tr","","","l","","","","","","t","tr","",""],["","","","rt","lb","rb","l","","","","","","","r","",""]],"objectsMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[[{"id":9,"xOffset":16,"yOffset":6,"width":16,"height":10},{"id":1,"xOffset":0,"yOffset":-16,"width":32,"height":32}],[{"id":8,"xOffset":-16,"yOffset":8,"width":16,"height":8},{"id":4,"xOffset":0,"yOffset":12,"width":12,"height":5}],[{"id":10,"xOffset":0,"yOffset":8,"width":8,"height":8},{"id":11,"xOffset":8,"yOffset":12,"width":6,"height":4}],[{"id":5,"xOffset":3,"yOffset":2,"width":16,"height":16}],0,0,0,0,0,[{"id":8,"xOffset":4,"yOffset":9,"width":12,"height":7}],[{"id":9,"xOffset":0,"yOffset":10,"width":10,"height":6},{"id":10,"xOffset":-3,"yOffset":12,"width":4,"height":4}],0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,[{"id":6,"xOffset":10,"yOffset":2,"width":16,"height":16}],0],[0,0,0,0,0,0,[{"id":1,"xOffset":0,"yOffset":-16,"width":32,"height":32},{"id":9,"xOffset":18,"yOffset":10,"width":10,"height":6},{"id":8,"xOffset":4,"yOffset":9,"width":14,"height":7}],0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,[{"id":7,"xOffset":-4,"yOffset":4,"width":12,"height":12}],[{"id":7,"xOffset":-8,"yOffset":4,"width":12,"height":12},{"id":7,"xOffset":-14,"yOffset":-8,"width":12,"height":12}],0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,[{"id":3,"xOffset":-6,"yOffset":4,"width":22,"height":12}],0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,[{"id":4,"xOffset":8,"yOffset":10,"width":12,"height":6}],0,0,[{"id":2,"xOffset":5,"yOffset":-24,"width":40,"height":40}],[{"id":1,"xOffset":-20,"yOffset":-14,"width":30,"height":30},{"id":9,"xOffset":-6,"yOffset":8,"width":16,"height":8}],0,0,0,0,0],[0,0,[{"id":1,"xOffset":14,"yOffset":-6,"width":22,"height":22},{"id":1,"xOffset":-8,"yOffset":-12,"width":28,"height":28},{"id":2,"xOffset":0,"yOffset":-16,"width":32,"height":32}],0,0,0,0,0,0,0,0,0,[{"id":7,"xOffset":2,"yOffset":4,"width":12,"height":12},{"id":1,"xOffset":2,"yOffset":-16,"width":32,"height":32}],[{"id":9,"xOffset":-9,"yOffset":9,"width":12,"height":7},{"id":8,"xOffset":4,"yOffset":9,"width":10,"height":7}],0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}')},"./app/areas/area-3.json":t=>{t.exports=JSON.parse('{"id":3,"world":1,"death":[{"x":112,"y":170,"height":32,"width":48}],"portals":[{"x":-8,"y":0,"height":32,"width":8,"direction":-1,"destinationArea":1,"destinationX":250,"destinationY":42},{"x":256,"y":0,"height":48,"width":8,"direction":1,"destinationArea":1,"destinationX":16,"destinationY":24}],"areaMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,3,0,0,0,0,0,0,0,0,0,0,0,0,1,2],[9,16,0,0,0,0,0,0,13,14,14,15,0,0,4,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,5],[0,0,0,0,13,15,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,13,14,15,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,0],[2,2,2,2,3,0,0,0,0,0,0,0,4,5,6,0],[5,5,5,5,10,2,3,17,17,17,1,2,2,2,2,2],[5,5,5,5,5,5,6,18,18,18,4,5,5,5,5,5]],"collisonMap":[["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["t","tr","","","","","","","","","","","","","tl","t"],["","r","","","","","","","t","t","t","t","","","l",""],["","r","","","","","","","","","","","","","",""],["","","","","t","t","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","t","t","t","","","","","",""],["","","","","","","","","","","","","tl","t","tr",""],["t","t","t","t","tr","","","","","","","","","","",""],["","","","","","lt","tr","","","","tl","t","t","t","t","t"],["","","","","","","r","lb","b","b","lb","","","","",""]],"objectsMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}')},"./app/areas/area-4.json":t=>{t.exports=JSON.parse('{"id":4,"world":3,"death":[{"x":64,"y":170,"height":32,"width":32},{"x":192,"y":170,"height":32,"width":32}],"coins":[{"left":1.5,"top":1.8},{"left":10.25,"top":1.8},{"left":14.5,"top":1.8},{"left":5.8,"top":0.8},{"left":7.25,"top":3.8},{"left":10.2,"top":5.8},{"left":12.5,"top":5.8},{"left":14.5,"top":7.8},{"left":6.25,"top":8.8},{"left":0.2,"top":7.8}],"portals":[{"x":-8,"y":0,"height":32,"width":8,"direction":-1,"destinationArea":3,"destinationX":250,"destinationY":24},{"x":256,"y":0,"height":48,"width":8,"direction":1,"destinationArea":3,"destinationX":16,"destinationY":24}],"areaMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,13,14,15,0,0,0,0,0,0,0,0],[2,2,3,0,0,0,0,0,0,0,13,15,0,0,1,2],[5,5,10,2,3,0,0,0,0,0,0,0,0,0,4,5],[9,9,9,9,16,0,0,13,15,0,0,0,0,0,12,9],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,13,14,14,15,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,2,2,3,0,0,0,0,1,2,2,3,0,0,1,2],[5,5,5,6,0,0,1,2,8,5,5,6,0,0,4,5],[5,5,5,6,0,0,4,5,5,5,5,6,0,0,4,5]],"collisonMap":[["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","t","t","t","","","","","","",""],["t","t","tr","","","","","","","","t","t","","","tl","t"],["","","r","tl","tr","","","","","","","","","","l",""],["","","","","","","","t","t","","","","","","",""],["","","","","r","","","","","","","","","","",""],["","","","","","","","","","","t","t","t","t","",""],["","","","","","","","","","","","","","","",""],["t","t","t","tr","","","","","tl","t","t","tr","","","tl","t"],["","","","r","","","tl","tr","l","","","r","","","l",""],["","","","rb","bl","br","l","","","","","r","bl","br","lb",""]],"objectsMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,[{"id":15,"xOffset":0,"yOffset":0,"width":16,"height":16}],[{"id":15,"xOffset":0,"yOffset":0,"width":16,"height":16}],0,0,0,0,0,0,[{"id":15,"xOffset":0,"yOffset":0,"width":16,"height":16}],[{"id":15,"xOffset":0,"yOffset":0,"width":16,"height":16}],0,0]]}')},"./app/areas/area-5.json":t=>{t.exports=JSON.parse('{"id":5,"world":4,"death":[],"portals":[],"areaMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"collisonMap":[["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""]],"objectsMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}')},"./app/areas/area-6.json":t=>{t.exports=JSON.parse('{"id":6,"world":5,"death":[{"x":64,"y":170,"height":32,"width":32},{"x":176,"y":160,"height":20,"width":32}],"portals":[],"areaMap":[[18,19,18,19,18,19,18,19,18,19,18,19,18,19,18,19],[20,21,20,21,20,21,20,21,20,21,20,21,20,21,20,21],[21,20,21,20,21,12,13,14,21,20,21,20,21,20,21,20],[2,2,3,21,20,21,20,21,20,21,20,21,20,21,1,2],[9,9,11,20,21,20,21,20,21,20,15,20,21,20,9,10],[20,21,20,21,20,21,12,13,14,21,20,21,20,21,20,21],[21,20,21,20,21,20,21,20,21,20,21,12,14,20,21,20],[20,21,20,21,20,21,20,21,20,21,20,21,20,21,20,1],[21,20,21,20,21,20,21,20,21,20,21,20,21,20,21,20],[20,21,20,21,20,21,20,21,20,1,2,21,20,3,20,21],[2,2,2,3,16,16,1,2,2,7,5,20,21,8,2,2],[5,5,5,6,17,17,4,5,5,5,5,5,5,5,5,5]],"collisonMap":[["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","t","t","t","","","","","","","",""],["t","t","tr","","","","","","","","","","","","tl","t"],["","","","","","","","","","","t","","","","",""],["","","","","","","t","t","t","","","","","","",""],["","","","","","","","","","","","t","t","","",""],["","","","","","","","","","","","","","","","t"],["","","","","","","","","","","","","","","",""],["","","","","","","","","","tl","tr","","","tr","",""],["t","t","t","tr","","","tl","t","tr","","r","","","l","tl","t"],["","","","r","lb","rb","l","","","","","t","t","","",""]],"objectsMap":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}')},"./app/areas/index.js":(t,e,i)=>{i.r(e),i.d(e,{area1:()=>s,area2:()=>h,area3:()=>a,area4:()=>r,area5:()=>o,area6:()=>d});var s=i("./app/areas/area-1.json"),h=i("./app/areas/area-2.json"),a=i("./app/areas/area-3.json"),r=i("./app/areas/area-4.json"),o=i("./app/areas/area-5.json"),d=i("./app/areas/area-6.json")},"./app/controller/index.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var s=i("./app/controller/input.js");class h{constructor(){this.up=new s.default,this.left=new s.default,this.right=new s.default}keyDownUp(t,e){let i="keydown"==t;switch(e){case 37:this.left.getInput(i);break;case 38:this.up.getInput(i);break;case 39:this.right.getInput(i)}}}},"./app/controller/input.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});class s{constructor(){this.down=!1,this.active=!1}getInput(t){this.down!=t&&(this.active=t),this.down=t}}},"./app/engine/index.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});class s{constructor(t,e,i){this.timeStep=t,this.update=e,this.render=i,this.pause=!1,this.updated=!1,this.time=null,this.extraTime=0,this.animationFrameRequest=null,this.engineLoop=t=>this.loop(t)}loop(t){if(!this.pause){for(this.animationFrameRequest=window.requestAnimationFrame(this.engineLoop),this.extraTime+=t-this.time,this.time=t,this.extraTime>=3*this.timeStep&&(this.extraTime=this.timeStep);this.extraTime>=this.timeStep;)this.extraTime-=this.timeStep,this.update(this.timeStamp),this.updated=!0;this.updated&&(this.updated=!1,this.render(this.timeStamp))}}start(){this.extraTime=this.timeStep,this.time=window.performance.now(),this.animationFrameRequest=window.requestAnimationFrame(this.engineLoop)}stop(){window.cancelAnimationFrame(this.animationFrameRequest)}hold(){this.pause=!0}resume(){this.pause=!1}}},"./app/game/animator.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});class s{constructor(t,e=4){this.count=0,this.delay=e>=1?e:1,this.frameSet=t,this.frameIndex=0,this.frameValue=t[0]}animate(t){this.loop(t)}changeFrameSet(t,e=4,i=0){this.frameSet!==t&&(this.count=0,this.delay=e,this.frameSet=t,this.frameIndex=i,this.frameValue=t[i])}loop(t){for(this.count++;this.count>this.delay;)this.count-=this.delay,t&&this.frameIndex===this.frameSet.length-1?this.frameIndex=this.frameSet.length-1:this.frameIndex=this.frameIndex<this.frameSet.length-1?this.frameIndex+1:0,this.frameValue=this.frameSet[this.frameIndex]}}},"./app/game/coin.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./app/game/object.js"),h=i("./app/game/animator.js");class a extends s.default{constructor(t,e,i=0,s=0,a){super(t,e,10,12),this.offsetX=i,this.offsetY=s,this.frameSet=a,this.baseX=t,this.baseY=e,this.positionX=Math.random()*Math.PI*2,this.positionY=2*this.positionX,this.animator=new h.default(this.frameSet)}update(){this.positionX+=.1,this.positionY+=.2,this.x=this.baseX+2*Math.cos(this.positionX),this.y=this.baseY+Math.sin(this.positionY)}updateAnimation(){this.animator.animate()}}},"./app/game/coins.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var s=i("./app/game/coin.js");class h{constructor(t=[],e){this.items=[];this.frameSets={},[{id:"",count:16}].forEach((({id:t,count:e})=>{for(let t=1;t<=e;t++){const e=new Image;e.src=`./sprites/coin/image ${t}.png`;((t,e)=>{this.frameSets[t]||(this.frameSets[t]=[]),this.frameSets[t].push(e)})("coin",e)}}));for(let i=0;i<t.length;i++){const{left:h,top:a,offsetX:r,offsetY:o}=t[i];this.items.push(new s.default(h*e+5,a*e+5,r,o,this.frameSets.coin))}}update(){for(let t=0;t<this.items.length;t++)this.items[t].update()}updateAnimation(){for(let t=0;t<this.items.length;t++)this.items[t].updateAnimation()}}},"./app/game/collider.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});class s{collide(t,e,i,s,h){const a=t=>{switch(t){case"t":return this.collidePlatformTop(e,s);case"b":return this.collidePlatformBottom(e,s+h);case"l":return this.collidePlatformLeft(e,i);case"r":return this.collidePlatformRight(e,i+h)}};let r=!1;if("string"==typeof t){const e=t.split("");for(let t=0;t<e.length&&(r=a(e[t]),!r);t++);}return r}collidePlatformBottom(t,e){return t.getTop()<e&&t.getOldTop()>=e&&(t.setTop(e),t.velocityY=0,!0)}collidePlatformLeft(t,e){return t.getRight()>e&&t.getOldRight()<=e&&(t.setRight(e-.01),t.velocityX=0,!0)}collidePlatformRight(t,e){return t.getLeft()<e&&t.getOldLeft()>=e&&(t.setLeft(e),t.velocityX=0,!0)}collidePlatformTop(t,e){return t.getBottom()>e&&t.getOldBottom()<=e&&(t.setBottom(e-.01),t.velocityY=0,t.jumping=!1,!0)}}},"./app/game/index.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var s=i("./app/game/world.js");class h{constructor(){this.world=new s.default,this.over=!1,this.onGameOver=()=>{this.over=!0}}update(){this.world.update(this.onGameOver)}}},"./app/game/object.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});class s{constructor(t,e,i,s){this.height=s,this.width=i,this.x=t,this.xOld=t,this.y=e,this.yOld=e}getBottom(){return this.y+this.height}getLeft(){return this.x}getRight(){return this.x+this.width}getTop(){return this.y}getOldBottom(){return this.yOld+this.height}getOldLeft(){return this.xOld}getOldRight(){return this.xOld+this.width}getOldTop(){return this.yOld}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}setBottom(t){this.y=t-this.height}setLeft(t){this.x=t}setRight(t){this.x=t-this.width}setTop(t){this.y=t}setOldBottom(t){this.yOld=t-this.height}setOldLeft(t){this.xOld=t}setOldRight(t){this.xOld=t-this.width}setOldTop(t){this.yOld=t}setCenterX(t){this.x=t-.5*this.width}setCenterY(t){this.y=t-.5*this.height}}},"./app/game/player.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./app/game/object.js"),h=i("./app/game/animator.js");class a extends s.default{constructor(){super(50,100,12,12),this.color="#ff0000",this.jumping=!0,this.velocityX=0,this.velocityY=0,this.direction=1;this.frameSets={},[{id:"Run",count:8},{id:"Jump",count:8},{id:"Dead",count:8},{id:"Idle",count:10}].forEach((({id:t,count:e})=>{for(let i=1;i<=e;i++){const e=new Image,s=new Image;e.src=`./sprites/player/left/${t} (${i}).png`,s.src=`./sprites/player/right/${t} (${i}).png`;const h=`${t.toLowerCase()}Left`,a=`${t.toLowerCase()}Right`,r=(t,e)=>{this.frameSets[t]||(this.frameSets[t]=[]),this.frameSets[t].push(e)};r(h,e),r(a,s)}})),this.animator=new h.default(this.frameSets.idleRight)}jump(){this.jumping||(this.jumping=!0,this.velocityY-=18)}moveLeft(){this.direction=-1,this.velocityX-=.5}moveRight(){this.direction=1,this.velocityX+=.5}updateAnimation({dead:t=!1}){if(t)return this.direction<0?this.animator.changeFrameSet(this.frameSets.deadLeft,2):this.animator.changeFrameSet(this.frameSets.deadRight,2),void this.animator.animate(t);this.velocityY<0?this.direction<0?this.animator.changeFrameSet(this.frameSets.jumpLeft,2):this.animator.changeFrameSet(this.frameSets.jumpRight,2):this.direction<0?this.velocityX<-.1?this.animator.changeFrameSet(this.frameSets.runLeft):this.animator.changeFrameSet(this.frameSets.idleLeft):this.direction>0&&(this.velocityX>.1?this.animator.changeFrameSet(this.frameSets.runRight):this.animator.changeFrameSet(this.frameSets.idleRight)),this.animator.animate()}update(t,e){this.xOld=this.x,this.yOld=this.y,this.velocityY+=t,this.x+=this.velocityX,this.y+=this.velocityY,this.velocityX*=e,this.velocityY*=e}}},"./app/game/portal.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var s=i("./app/game/object.js");class h extends s.default{constructor({x:t,y:e,width:i,height:s,direction:h,destinationX:a,destinationY:r,destinationArea:o}){super(t,e,i,s),this.direction=h,this.destinationX=a,this.destinationY=r,this.destinationArea=o}}},"./app/game/world.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var s=i("./app/game/coins.js"),h=i("./app/game/player.js"),a=i("./app/game/object.js"),r=i("./app/game/portal.js"),o=i("./app/game/collider.js");class d{constructor(t=.87,e=2){this.friction=t,this.gravity=e,this.rows=12,this.columns=16,this.tileSize=16,this.coins=[],this.totalSnacks=0,this.height=this.tileSize*this.rows,this.width=this.tileSize*this.columns,this.player=new h.default,this.collider=new o.default}setup(t){this.id=t.id,this.map=t.areaMap,this.objects=t.objectsMap,this.collisonMap=t.collisonMap,this.deathAreas=t.death.map((({x:t,y:e,height:i,width:s})=>new a.default(t,e,s,i))),this.portals=t.portals.map((t=>new r.default(t))),this.coins=new s.default(t.coins,this.tileSize),this.portal&&(this.player.setCenterX(this.portal.destinationX),this.player.setCenterY(this.portal.destinationY),this.player.direction=this.portal.direction,this.portal=null)}collideObject(t){let e,i,s,h;t.getLeft()<0-this.player.width/2?(t.setLeft(-this.player.width/2),t.velocityX=0):t.getRight()>this.width+this.player.width/2&&(t.setRight(this.width+this.player.width/2),t.velocityX=0),t.getTop()<0?(t.setTop(0),t.velocityY=0):t.getBottom()-1>this.height&&(t.setBottom(this.height),t.velocityY=0,t.jumping=!1);const a=()=>{h=this._normalizeIndex(Math.floor(t.getTop()/this.tileSize),this.rows)},r=()=>{e=this._normalizeIndex(Math.floor(t.getBottom()/this.tileSize),this.rows)},o=()=>{i=Math.floor(t.getLeft()/this.tileSize)},d=()=>{s=Math.floor(t.getRight()/this.tileSize)};a(),o(),this.collider.collide(this.collisonMap[h][i],t,i*this.tileSize,h*this.tileSize,this.tileSize),a(),d(),this.collider.collide(this.collisonMap[h][s],t,s*this.tileSize,h*this.tileSize,this.tileSize),r(),o(),this.collider.collide(this.collisonMap[e][i],t,i*this.tileSize,e*this.tileSize,this.tileSize),r(),d(),this.collider.collide(this.collisonMap[e][s],t,s*this.tileSize,e*this.tileSize,this.tileSize)}_normalizeIndex(t,e){return t>=e-1?e-1:t<0?0:t}checkCollision(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}update(t){this.player.update(this.gravity,this.friction),this.collideObject(this.player);for(let t=0;t<this.coins.items.length;t++){const e=this.coins.items[t];e.update(),e.updateAnimation(),this.checkCollision(this.player,e)&&(this.coins.items.splice(this.coins.items.indexOf(e),1),this.totalSnacks+=1)}let e=!1;for(let t=0;t<this.deathAreas.length&&(e=this.checkCollision(this.player,this.deathAreas[t]),!e);t++);if(!this.portal)for(let t=0;t<this.portals.length;t++)if(this.checkCollision(this.player,this.portals[t])){this.portal=this.portals[t];break}this.player.updateAnimation({dead:e}),e&&(this.player.velocityX=0,t())}}},"./app/index.js":(t,e,i)=>{i.r(e);var s=i("./app/game/index.js"),h=i("./app/screen/index.js"),a=i("./app/engine/index.js"),r=i("./app/controller/index.js"),o=i("./app/areas/index.js");window.addEventListener("load",(function(){let t="1";const e=new r.default,i=new s.default,d=()=>{i.world.setup(o[`area${t}`])};let n;d();const l=()=>{n=new h.default(document.querySelector("canvas"),o[`area${t}`].world),n.buffer.canvas.height=i.world.height,n.buffer.canvas.width=i.world.width};l();const f=()=>{n.resize(document.documentElement.clientWidth-32,document.documentElement.clientHeight-32,i.world.height/i.world.width),n.render()};f();var p=new a.default(1e3/30,(()=>{i.over||(e.left.active&&i.world.player.moveLeft(),e.right.active&&i.world.player.moveRight(),e.up.active&&(i.world.player.jump(),e.up.active=!1)),i.world.portal&&(p.hold(),t=i.world.portal.destinationArea,d(),l(),p.resume()),i.update()}),(()=>{if(n.drawBackground(),n.drawMap(i.world.map),n.drawMapObjects(i.world.objects),i.world.coins)for(let t=0;t<i.world.coins.items.length;t++){const e=i.world.coins.items[t];n.drawObject(e.animator.frameValue,e.x,e.y,e.width,e.height,e.offsetX,e.offsetY)}const{direction:t}=i.world.player;n.drawPlayer(i.world.player.animator.frameValue,i.world.player.getLeft(),i.world.player.getTop(),60,40,t<0?-32:-16,-24),n.drawRect(i.world.player),n.render()}));p.start();const c=({type:t,keyCode:i})=>{e.keyDownUp(t,i)};window.addEventListener("keydown",c),window.addEventListener("keyup",c),window.addEventListener("resize",f)}))},"./app/screen/index.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var s=i("./app/screen/tileset.js");class h{constructor(t,e){this.buffer=document.createElement("canvas").getContext("2d"),this.context=t.getContext("2d"),this.tileSet=new s.default(16,8,e)}drawMap(t){const{images:e,tileSize:i}=this.tileSet;for(let s=0;s<t.length;s++){const h=t[s];for(let t=0;t<h.length;t++){const a=h[t];if(a){const h=e[a];let r=t*i,o=s*i;this.buffer.drawImage(h,r,o,i,i)}}}}drawDeathArea(t){for(let e=0;e<t.length;e++){const{x:i,y:s,width:h,height:a}=t[e];this.buffer.fillRect(i,s,h,a)}}drawMapObjects(t){const{objectImages:e,tileSize:i}=this.tileSet;for(let s=0;s<t.length;s++){const h=t[s];for(let t=0;t<h.length;t++){const a=h[t];a&&a.forEach((h=>{const{id:a,xOffset:r=0,yOffset:o=0,width:d=16,height:n=16}=h,l=e[a];let f=t*i,p=s*i;this.buffer.drawImage(l,f+r,p+o,d,n)}))}}}drawBackground(){this.buffer.drawImage(this.tileSet.tileBackground,0,0,this.buffer.canvas.width,this.buffer.canvas.height)}drawPlayer(t,e,i,s,h,a,r,o){this.drawObject(t,e+a,i+r,s,h)}drawObject(t,e,i,s,h,a=0,r=0){this.buffer.drawImage(t,e+a,i+r,s,h)}drawRect({x:t,y:e,width:i,height:s}){this.buffer.fillRect(t,e,i,s)}resize(t,e,i){e/t>i?(this.context.canvas.height=t*i,this.context.canvas.width=t):(this.context.canvas.height=e,this.context.canvas.width=e/i),this.context.webkitImageSmoothingEnabled=!1,this.context.mozImageSmoothingEnabled=!1,this.context.imageSmoothingEnabled=!1}render(){this.context.drawImage(this.buffer.canvas,0,0,this.buffer.canvas.width,this.buffer.canvas.height,0,0,this.context.canvas.width,this.context.canvas.height)}}},"./app/screen/tileset.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});class s{constructor(t,e,i=1){const s=`world-${i}`;this.columns=e,this.tileSize=t,this.images=[],this.images.push(null),this.objectImages=[],this.objectImages.push(null),this.tileBackground=new Image;const h={1:{objectLen:11,tileLen:18},2:{objectLen:10,tileLen:18},3:{objectLen:15,tileLen:16},4:{objectLen:14,tileLen:16},5:{objectLen:12,tileLen:25}};for(let t=1;t<=h[i].objectLen;t++){const e=new Image;e.src=`./sprites/${s}/objects/${t}.png`,this.objectImages.push(e)}for(let t=1;t<=h[i].tileLen;t++){const e=new Image;e.src=`./sprites/${s}/tiles/${t}.png`,this.images.push(e)}this.tileBackground.src=`./sprites/${s}/bg.png`}}}},e={};function i(s){if(e[s])return e[s].exports;var h=e[s]={exports:{}};return t[s](h,h.exports,i),h.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i("./app/index.js")})();
//# sourceMappingURL=bundle.js.map